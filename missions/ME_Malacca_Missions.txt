MLC_missions_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		MSA_is_tag = { tag = MLC }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes

	MLC_naval_superiority = {
		icon = mission_subjugate_saurashtra
		required_missions = { }
		position = 1
		provinces_to_highlight = {
			MSA_is_in_borneo = yes
			is_capital = yes
			owner = {
				navy_size = ROOT
			}
		}
		trigger = {
			num_of_admirals = 1
			navy_size = 10
			custom_trigger_tooltip = {
				tooltip = MLC_bigger_fleet_than_borneo
				NOT = {
					OR = {
						brunei_area = {
							is_capital = yes
							owner = {
								navy_size = ROOT
							}
						}
						palawan_area = {
							is_capital = yes
							owner = {
								navy_size = ROOT
							}
						}
						sabah_area = {
							is_capital = yes
							owner = {
								navy_size = ROOT
							}
						}
						kalimantan_area = {
							is_capital = yes
							owner = {
								navy_size = ROOT
							}
						}
						kutai_area = {
							is_capital = yes
							owner = {
								navy_size = ROOT
							}
						}
						banjar_area = {
							is_capital = yes
							owner = {
								navy_size = ROOT
							}
						}
					}
				}		
			}
		}
		effect = {
			country_event = { id = ME_Malacca_Events.1 }
			brunei_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			sabah_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			kalimantan_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
	}
	
	MLC_defeat_brunei = {
		icon = mission_restore_rule_over_mysore
		required_missions = { MLC_naval_superiority }
		position = 3
		provinces_to_highlight = {
			OR = {
				owned_by = BEI
				area = brunei_area
			}
		}
		trigger = {
			OR = {
				has_won_war_against = { who = BEI }
				brunei_area = { owned_by = ROOT }
			}
		}
		effect = {
			home_trade_node_effect_scope = {
				add_trade_modifier = {
					who = ROOT
					duration = 10950
					power = 20
					key = MSA_brunei_sultanate
				}
				add_trade_node_income = 12
			}
			palawan_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			kutai_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			banjar_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
	}
	
	MLC_conquer_borneo = {
		icon = mission_mnd_maj_rein_in_brunei
		required_missions = { MLC_defeat_brunei }
		position = 5
		provinces_to_highlight = {
			MSA_is_in_borneo = yes
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				MSA_is_in_borneo = yes
				value = 13
			}
		}
		effect = {
			add_accepted_culture_or_dip_power = { culture = bornean }
			south_sulawesi_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			sulawesi_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			makassar_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
	}
}

MLC_missions_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		MSA_is_tag = { tag = MLC }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes

	MLC_intervene_in_siak = {
		icon = conquer_malacca
		required_missions = { MLC_succession }
		position = 2
		provinces_to_highlight = {
			OR = {
				area = jambi_area
				area = central_sumatra_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					area = jambi_area
					area = central_sumatra_area
				}
				value = 4
			}
		}
		effect = {
			jambi_area = {
				limit = {
					owned_by = ROOT
				}
				add_nationalism = -10
			}
			central_sumatra_area = {
				limit = {
					owned_by = ROOT
				}
				add_nationalism = -10
			}
			add_country_modifier = {
				name = MLC_enforcing_zealotry
				duration = 9125
			}
			minangkabau_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			north_sumatra_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			south_sumatra_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			batak_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
	}
	
	MLC_conquer_sumatra = {
		icon = conquer_malacca
		required_missions = { MLC_intervene_in_siak }
		position = 4
		provinces_to_highlight = {
			MSA_is_in_sumatra = yes
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				MSA_is_in_sumatra = yes
				value = 15
			}
			622 = {
				owned_by = ROOT
				is_core = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = MLC_srivijaya
				duration = -1
			}
			add_accepted_culture_or_dip_power = { culture = sumatran }
			east_java_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			central_java_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			west_java_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			surabaya_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			banten_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
	}
	
	MLC_sulawesi = {
		icon = mission_mnd_maj_cloves
		required_missions = { MLC_conquer_borneo }
		position = 6
		provinces_to_highlight = {
			MSA_is_in_sulawesi = yes
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				MSA_is_in_sulawesi = yes
				value = 5
			}
		}
		effect = {
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 25
			}
		}
	}
}

MLC_missions_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		MSA_is_tag = { tag = MLC }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes

	MLC_succession = {
		icon = conquer_malacca
		required_missions = { }
		position = 1
		provinces_to_highlight = {
		}
		trigger = {
			OR = {
				army_size = 10
				army_size_percentage = 0.9
			}
			NOT = { has_ruler = "Ibrahim" }
		}
		effect = {
			if = {
				limit = {
					exists = SAK
					SAK = { is_subject = no }
				}
				add_casus_belli = {
					target = SAK
					months = 120
					type = cb_vassalize_mission
				}
			}
			central_sumatra_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			jambi_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			malaya_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			north_malaya_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
	}
	
	MLC_dominate_malay_peninsula = {
		icon = mission
		required_missions = { MLC_succession }
		position = 2
		provinces_to_highlight = {
			area = malaya_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			malaya_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_mil_power = 25
			add_country_modifier = {
				name = MLC_quest_for_hegemony
				duration = 9125
			}
		}
	}
	
	MLC_kedah_pattani = {
		icon = conquer_malacca
		required_missions = { MLC_dominate_malay_peninsula }
		position = 3
		provinces_to_highlight = {
			OR = {
				province_id = 2394
				province_id = 594
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			2394 = { country_or_non_sovereign_subject_holds = ROOT }
			594 = { country_or_non_sovereign_subject_holds = ROOT }
		}
		effect = {
			if = {
				limit = {
					4812 = {
						country_or_non_sovereign_subject_holds = ROOT
						NOT = { has_building = fort_15th }
					}
				}
				4812 = { add_building = fort_15th }
			}
			else = {
				594 = { add_building = fort_15th }
			}
			tenasserim_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			north_tenasserim_area = {
				limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
	}
	
	MLC_majapahit = {
		icon = mission_mnd_maj_end_disaster
		required_missions = { MLC_conquer_sumatra }
		position = 5
		provinces_to_highlight = {
			MSA_is_in_java = yes
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			628 = { owned_by = ROOT }
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				MSA_is_in_java = yes
				value = 10
			}
		}
		effect = {
			country_event = { id = ME_Malacca_Events.3 }
			add_prestige_or_monarch_power = { amount = 10 }
		}
	}
	
	MLC_malaya = {
		icon = mission_sail_to_the_east_indies
		required_missions = { MLC_majapahit MLC_sulawesi }
		position = 7
		provinces_to_highlight = {
			MSA_malaya_pth = yes
		}
		trigger = {
			MSA_malaya_trigger = yes
		}
		effect = {
			MSA_malaya_effect = yes
		}
	}
}

MLC_missions_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		MSA_is_tag = { tag = MLC }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	MLC_resist_the_siamese_invasion = {
		icon = conquer_malacca
		required_missions = { MLC_tun_perak }
		position = 2
		provinces_to_highlight = {
			owner = {
				owns = 600
			}
		}
		trigger = {
			OR = {
				600 = {
					owner = {
						ROOT = {
							has_won_war_against = { who = PREV }
						}
					}
				}
				owns = 600
			}
		}
		effect = {
			create_general = {
				tradition = 60
				add_manuever = 1
				add_shock = 1
			}
			custom_tooltip = MLC_general_pips
			
			add_army_tradition_or_mil_power = { amount = 15 }
		}
	}
	
	MLC_punitive_campaign = {
		icon = mission_spoils_of_war
		required_missions = { MLC_resist_the_siamese_invasion MLC_kedah_pattani }
		position = 4
		provinces_to_highlight = {
			area = tenasserim_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			tenasserim_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
		}
	}
	
	MLC_orang_laut = {
		icon = conquer_malacca
		required_missions = { MLC_entrepot }
		position = 5
		provinces_to_highlight = {
		}
		trigger = {
			
		}
		effect = {
		}
	}
	
	MLC_chinese_expedition = {
		icon = conquer_malacca
		required_missions = { }
		position = 6
		provinces_to_highlight = {
		}
		trigger = {
		}
		effect = {
		}
	}
	
	MLC_mission_to_china = {
		icon = conquer_malacca
		required_missions = { MLC_chinese_expedition }
		position = 7
		provinces_to_highlight = {
		}
		trigger = {
		}
		effect = {
		}
	}
}

MLC_missions_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		MSA_is_tag = { tag = MLC }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes

	MLC_tun_perak = {
		icon = conquer_malacca
		required_missions = { }
		position = 1
		provinces_to_highlight = {
		}
		trigger = {
		}
		effect = {
			country_event = { id = ME_Malacca_Events.2 }
		}
	}
	
	MLC_malaccan_bendahara = {
		icon = mission_reliable_allies
		required_missions = { MLC_tun_perak }
		position = 2
		provinces_to_highlight = {
		}
		trigger = {
		}
		effect = {
		}
	}
	
	MLC_temenggung = {
		icon = conquer_malacca
		required_missions = { MLC_malaccan_bendahara }
		position = 3
		provinces_to_highlight = {
		}
		trigger = {
		}
		effect = {
		}
	}
	
	MLC_entrepot = {
		icon = conquer_malacca
		required_missions = { }
		position = 4
		provinces_to_highlight = {
			province_id = 596
		}
		trigger = {
			596 = {
				if = {
					limit = {
						has_dlc = "Dharma"
					}
					province_has_center_of_trade_of_level = 2
				}
				has_trade_building_trigger = yes
				development = 18
			}
		}
		effect = {
			596 = {
				add_province_modifier = {
					name = MLC_entrepot
					duration = -1
				}
			}
		}
	}
	
	MLC_restore_singapura = {
		icon = mission_subdue_rajputana
		required_missions = { MLC_entrepot }
		position = 5
		provinces_to_highlight = {
			province_id = 4815
		}
		trigger = {
			4815 = {
				owned_by = ROOT
				development = 18
				has_trade_building_trigger = yes
				higher_development_than = 628
			}
		}
		effect = {
			4815 = {
				create_or_add_center_of_trade_level = { level = 1 }
			}
			country_event = { id = ME_Malacca_Events.4 }
		}
	}
	
	MLC_golden_peninsula = {
		icon = conquer_malacca
		required_missions = { MLC_restore_singapura MLC_orang_laut }
		position = 6
		provinces_to_highlight = {
			OR = {
				area = malacca_area
				area = malaya_area
				area = north_malaya_area
				area = johor_area
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			malacca_area = {
				type = all
				owned_by = ROOT
			}
			malaya_area = {
				type = all
				owned_by = ROOT
			}
			north_malaya_area = {
				type = all
				owned_by = ROOT
			}
			johor_area = {
				type = all
				owned_by = ROOT
			}
			development_in_provinces = {
				OR = {
					area = malacca_area
					area = malaya_area
					area = north_malaya_area
					area = johor_area
				}
				value = 150
			}
		}
		effect = {
			add_stability_or_adm_power = yes
			custom_tooltip = MLC_highlighted_area
			tooltip = {
				add_province_modifier = {
					name = MLC_golden_peninsula_modifier
					duration = -1
				}
			}
			hidden_effect = {
				malaya_area = {
					add_province_modifier = {
						name = MLC_golden_peninsula_modifier
						duration = -1
					}
				}
				johor_area = {
					add_province_modifier = {
						name = MLC_golden_peninsula_modifier
						duration = -1
					}
				}
				north_malaya_area = {
					add_province_modifier = {
						name = MLC_golden_peninsula_modifier
						duration = -1
					}
				}
				malacca_area = {
					add_province_modifier = {
						name = MLC_golden_peninsula_modifier
						duration = -1
					}
				}
			}
		}
	}
}