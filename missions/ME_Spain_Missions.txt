SPA_missions_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = SPA
		is_random_new_world = no
		NOT = { map_setup = map_setup_random }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	spain_prepare_the_reconquista = {
		icon = mission_assemble_an_army
		required_missions = { }
		position = 1
		trigger = {
			army_size_percentage = 1
			navy_size_percentage = 1
			manpower_percentage = 0.6
			num_of_generals = 1
		}
		effect = {
			add_country_modifier = {
				name = spain_prepare_reconquista_modifier
				duration = 5475
			}
		}
	}
	
	spain_reclaim_andalucia = {
		icon = mission_unite_home_region
		required_missions = { spain_prepare_the_reconquista }
		position = 2
		
		provinces_to_highlight = {
			area = upper_andalucia_area
			NOT = { owned_by = ROOT }
		}
		
		trigger = {
			upper_andalucia_area = {
				type = all
				owned_by = ROOT
			}
		}
		
		effect = {
			add_prestige = 10
			add_adm_power = 50
			add_dip_power = 50
			add_mil_power = 50
		}
	}
	
	spain_convert_iberia = {
		icon = mission_religious
		required_missions = { spain_reclaim_andalucia }
		position = 3
		provinces_to_highlight = {
			region = iberia_region
			NOT = { religion = catholic }
		}
		trigger = {
			religion = catholic
			iberia_region = {
				type = all
				religion = catholic
			}
		}
		effect = {
			add_country_modifier = {
				name = spa_rb_christian_iberia
				duration = 5475
			}
			add_papal_influence = 30
		}
	}
	
	spain_spanish_realm = {
		icon = mission_conquer_50_development
		required_missions = { spain_convert_iberia }
		position = 5
		provinces_to_highlight = {
			region = iberia_region
			NOT = { area = beieras_area }
			NOT = { area = alentejo_area }
			NOT = { area = macaronesia_area }
			NOT = { province_id = 173 }
			NOT = { province_id = 197 }
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			total_development = 350
			iberia_region = {
				type = all
				OR = {
					country_or_non_sovereign_subject_holds = ROOT
					area = beieras_area
					area = alentejo_area
					area = macaronesia_area
					province_id = 173
					province_id = 197
				}
			}
		}
		effect = {
			add_legitimacy = 15
			# Portugal
			beieras_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			# Tanger
			northern_morocco_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			# Naples
			apulia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			calabria_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			120 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			121 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			2983 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}
	
	spain_conquer_beira = {
		icon = mission_conquer_50_development
		required_missions = { spain_spanish_realm }
		position = 6
		provinces_to_highlight = {
			area = beieras_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			beieras_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			alentejo_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	spain_conquer_alentejo = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_beira }
		position = 7
		provinces_to_highlight = {
			area = alentejo_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			alentejo_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			366 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			367 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			368 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			1096 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}
	
	spain_conquer_atlantic_islands = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_alentejo }
		position = 8
		provinces_to_highlight = {
			OR = {
				province_id = 366
				province_id = 367
				province_id = 368
				province_id = 1096
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			366 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			367 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			368 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			1096 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = spain_conquer_atlantic_islands_modifier
				duration = 5475
			}
		}
	}
	
	spain_the_malian_gold = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_sus_and_tafilalt }
		position = 9
		provinces_to_highlight = {
			OR = {
				area = jolof_area
				area = tekrur_area
				area = futa_jallon_area
				province_id = 1111
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			jolof_area = {
				type = all
				owned_by = ROOT
			}
			tekrur_area = {
				type = all
				owned_by = ROOT
			}
			futa_jallon_area = {
				type = all
				owned_by = ROOT
			}
			1111 = {
				owned_by = ROOT
			}
		}
		effect = {
			add_years_of_income = 1
			benin_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			if = {
				limit = {
					west_africa_coast_area = {
						is_empty = no
					}
				}
				west_africa_coast_area = {
					limit = {
						is_empty = no
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			else = {
				add_country_modifier = {
					name = spain_the_malian_gold_modifier
					duration = 5475
				}
			}
		}
	}
	
	spain_conquer_ivory_coast = {
		icon = mission_conquer_50_development
		required_missions = { spain_the_malian_gold }
		position = 10
		provinces_to_highlight = {
			OR = {
				area = benin_area
				area = west_africa_coast_area
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			benin_area = {
				type = all
				owned_by = ROOT
			}
			west_africa_coast_area = {
				type = all
				owned_by = ROOT
			}
		}
		effect = {
			add_adm_power = 100
			benin_area = {
				limit = {
					has_no_manufactory_trigger = yes
				}
				custom_tooltip = BUILD_MATCHING_MANUFACTORY_IN_THIS_PROVINCE_SPA
				build_possible_manufactory_in_province = yes
			}
			west_africa_coast_area = {
				limit = {
					has_no_manufactory_trigger = yes
				}
				custom_tooltip = BUILD_MATCHING_MANUFACTORY_IN_THIS_PROVINCE_SPA
				build_possible_manufactory_in_province = yes
			}
			if = {
				limit = {
					kongo_area = {
						is_empty = no
					}
				}
				kongo_area = {
					limit = {
						is_empty = no
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			if = {
				limit = {
					coastal_kongo = {
						is_empty = no
					}
				}
				coastal_kongo = {
					limit = {
						is_empty = no
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}
	
	spain_conquer_kongo = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_ivory_coast }
		position = 11
		provinces_to_highlight = {
			OR = {
				area = kongo_area
				area = coastal_kongo
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			kongo_area = {
				type = all
				owned_by = ROOT
			}
			coastal_kongo = {
				type = all
				owned_by = ROOT
			}
		}
		effect = {
			add_mil_power = 100
			add_country_modifier = {
				name = spain_conquer_kongo_modifier
				duration = 5475
			}
			if = {
				limit = {
					cape_of_good_hope_area = {
						is_empty = no
					}
				}
				cape_of_good_hope_area = {
					limit = {
						is_empty = no
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			if = {
				limit = {
					south_african_plateau_area = {
						is_empty = no
					}
				}
				south_african_plateau_area = {
					limit = {
						is_empty = no
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}
	
	spain_colonize_the_cape = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_kongo }
		position = 12
		provinces_to_highlight = {
			OR = {
				area = cape_of_good_hope_area
				area = south_african_plateau_area
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			cape_of_good_hope_area = {
				type = all
				owned_by = ROOT
			}
			south_african_plateau_area = {
				type = all
				owned_by = ROOT
			}
		}
		effect = {
			add_dip_power = 100
			add_country_modifier = {
				name = spain_colonize_the_cape_modifier
				duration = 10950
			}
		}
	}
}

SPA_missions_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = SPA
		is_random_new_world = no
		NOT = { map_setup = map_setup_random }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	spain_build_army_buildings = {
		icon = mission_early_game_buildings
		position = 1
		required_missions = { }
		trigger = {
			calc_true_if = {
				all_owned_province = {
					OR = {
						has_building = barracks
						has_building = training_fields
						has_building = regimental_camp
						has_building = conscription_center
					}
				}
				amount = 10
			}
		}
		effect = {
			add_mil_power = 50
			add_country_modifier = {
				name = spain_army_buildings
				duration = 7300
			}
		}
	}
	
	spain_build_naval_buildings = {
		icon = mission_early_game_buildings
		position = 2
		required_missions = { spain_build_army_buildings spain_prepare_the_reconquista }
		trigger = {
			calc_true_if = {
				all_owned_province = {
					OR = {
						has_building = dock
						has_building = drydock
						has_building = shipyard
						has_building = grand_shipyard
					}
				}
				amount = 10
			}
		}
		effect = {
			add_yearly_sailors = 3
			add_country_modifier = {
				name = spain_naval_buildings
				duration = 7300
			}
		}
	}
	
	spain_discover_mexico = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquistadors }
		position = 3
		trigger = {
			colonial_mexico = {
				has_discovered = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_discover_mexico_modifier
				duration = 5475
			}
		}
	}
	
	spain_the_atztec_savages = {
		icon = mission_conquer_50_development
		required_missions = { spain_discover_mexico }
		position = 4
		provinces_to_highlight = {
			OR = {
				area = jalisco_area
				area = michoacan_area
				area = mexico_area
				area = guerrero_area
				area = oaxaca_area
				area = eastern_mexico_area
				area = chiapas_area
				area = yucatan_area
				area = east_yucatan_area
				area = guatemala_area
				province_id = 2642
				province_id = 853
			}
			NOT = { province_id = 2617 }
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = {
						is_colonial_nation_of = ROOT
					}
				}
			}
		}
		trigger = {
			custom_trigger_tooltip = {
				tooltip = SPA_OWN_POPULATED_AREAS_IN_MEXICO
				jalisco_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
						province_id = 2617
					}
				}
				michoacan_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				mexico_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				guerrero_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				oaxaca_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				eastern_mexico_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				chiapas_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				yucatan_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				east_yucatan_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				guatemala_area = {
					type = all
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				2642 = {
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				853 = {
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
			}
		}
		effect = {
			add_years_of_income = 2
			add_country_modifier = {
				name = spain_the_atztec_savages_modifier
				duration = 5475
			}
		}
	}
	
	spain_colonize_mexico = {
		icon = mission_conquer_50_development
		required_missions = { spain_the_atztec_savages }
		position = 5
		provinces_to_highlight = {
			colonial_region = colonial_mexico
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = {
						is_colonial_nation_of = ROOT
					}
				}
			}
		}
		trigger = {
			colonial_mexico = {
				type = all
				OR = {
					owned_by = ROOT
					owner = {
						is_colonial_nation_of = ROOT
					}
				}
			}
		}
		effect = {
			random_subject_country = {
				limit = {
					is_colonial_nation = yes
					capital_scope = {
						colonial_region = colonial_mexico
					}
				}
				add_liberty_desire = -25
			}
			add_country_modifier = {
				name = spain_colonize_mexico_modifier
				duration = 7300
			}
		}
	}
	
	spain_conquer_tanger = {
		icon = mission_conquer_50_development
		required_missions = { spain_spanish_realm }
		position = 6
		provinces_to_highlight = {
			area = northern_morocco_area
			NOT = { owned_by = ROOT }
		}
		trigger = {
			northern_morocco_area = {
				type = all
				owned_by = ROOT
			}
		}
		effect = {
			western_morocco_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			southern_morocco_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			marrekesh_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			every_province = {
				limit = {
					region = maghreb_region
					NOT = { area = western_morocco_area }
					NOT = { area = southern_morocco_area }
					NOT = { area = marrekesh_area }
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
					NOT = { is_claim = ROOT }
					province_has_center_of_trade_of_level = 1
				}
				add_claim = ROOT
			}
		}
	}
	
	spain_conquer_western_morocco = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_tanger }
		position = 7
		provinces_to_highlight = {
			OR = {
				area = western_morocco_area
				area = southern_morocco_area
				area = marrekesh_area
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			western_morocco_area = {
				type = all
				owned_by = ROOT
			}
			southern_morocco_area = {
				type = all
				owned_by = ROOT
			}
			marrekesh_area = {
				type = all
				owned_by = ROOT
			}
		}
		effect = {
			sus_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			tafilalt_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	spain_conquer_sus_and_tafilalt = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_western_morocco }
		position = 8
		provinces_to_highlight = {
			OR = {
				area = sus_area
				area = tafilalt_area
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			sus_area = {
				type = all
				owned_by = ROOT
			}
			tafilalt_area = {
				type = all
				owned_by = ROOT
			}
		}
		effect = {
			# Coast
			algiers_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			kabylia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			# Malian Gold
			jolof_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			tekrur_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			futa_jallon_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			1111 = {
				if = {
					limit = {
						is_empty = no
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}
	
	spain_conquer_moroccan_coast = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_sus_and_tafilalt }
		position = 9
		provinces_to_highlight = {
			OR = {
				area = algiers_area
				area = kabylia_area
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			algiers_area = {
				type = all
				owned_by = ROOT
			}
			kabylia_area = {
				type = all
				owned_by = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_conquer_moroccan_coast_modifier
				duration = -1
			}
		}
	}
	
	spain_defeat_france = {
		icon = mission_conquer_50_development
		required_missions = { }
		position = 11
		trigger = {
			OR = {
				mission_completed = spain_conquer_atlantic_islands
				mission_completed = spain_conquer_moroccan_coast
				mission_completed = spain_conquer_genoa_and_milan
			}
			if = {
				limit = {
					exists = FRA
				}
				war_score_against = {
					who = FRA
					value = 90
				}
			}
			else_if = {
				limit = {
					exists = BRI
				}
				war_score_against = {
					who = BRI
					value = 90
				}
			}
			else_if = {
				limit = {
					exists = BUR
				}
				war_score_against = {
					who = BUR
					value = 90
				}
			}
			else_if = {
				limit = {
					NOT = { owns = 183 }
				}
				183 = {
					owner = {
						ROOT = {
							war_score_against = {
								who = PREV
								value = 90
							}
						}
					}
				}
			}
			else = {
				ile_de_france_area = {
					type = all
					owned_by = ROOT
				}
			}
			ile_de_france_area = {
				type = all
				OR = {
					controlled_by = ROOT
					controller = {
						alliance_with = ROOT
					}
					controller = {
						is_subject_of = ROOT
					}
				}
			}
		}
		effect = {
			173 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			175 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			176 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			196 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			197 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			2753 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}
	
	spain_conquer_french_pyrenees = {
		icon = mission_conquer_50_development
		required_missions = { spain_defeat_france }
		position = 12
		provinces_to_highlight = {
			OR = {
				province_id = 173
				province_id = 175
				province_id = 176
				province_id = 196
				province_id = 197
				province_id = 2753
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			173 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			175 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			176 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			196 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			197 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			2753 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_prestige = 20
			add_country_modifier = {
				name = spain_conquer_french_pyrenees_modifier
				duration = 7300
			}
		}
	}
	
	spain_better_than_france = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_french_pyrenees }
		position = 13
		trigger = {
			if = {
				limit = {
					has_dlc = "Rights of Man"
				}
				is_great_power = yes
				NOT = { great_power_rank = FRA }
			}
			else = {
				OR = {
					total_development = FRA
					NOT = { exists = FRA }
				}
			}
		}
		effect = {
			add_prestige = 20
			add_country_modifier = {
				name = spain_better_than_france_modifier
				duration = 7300
			}
		}
	}
	
	spain_vassalize_france = {
		icon = mission_conquer_50_development
		required_missions = { spain_better_than_france }
		position = 14
		trigger = {
			if = {
				limit = {
					exists = FRA
				}
				overlord_of = FRA
			}
			else_if = {
				limit = {
					NOT = { owns = 183 }
				}
				183 = {
					owner = {
						is_subject_of = ROOT
					}
				}
			}
			else = {
				france_region = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_vassalize_france_modifier
				duration = 7300
			}
		}
	}
}

SPA_missions_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = SPA
		is_random_new_world = no
		NOT = { map_setup = map_setup_random }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	spain_beginning_of_a_colonial_empire = {
		icon = mission_conquer_50_development
		position = 1
		required_missions = { }
		trigger = {
			has_idea_group = exploration_ideas
		}
		effect = {
			add_dip_power = 50
			add_country_modifier = {
				name = spain_beginning_of_a_colonial_empire_modifier
				duration = 5475
			}
		}
	}
	
	spain_conquistadors = {
		icon = mission_conquer_50_development
		position = 2
		required_missions = { spain_beginning_of_a_colonial_empire }
		trigger = {
			num_of_conquistadors = 1
			num_of_explorers = 1
		}
		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = spain_conquistadors_modifier
				duration = 3650
			}
		}
	}
	
	spain_discover_the_caribbeans = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquistadors }
		position = 3
		trigger = {
			colonial_the_carribean = {
				has_discovered = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_discover_the_caribbeans_modifier
				duration = 5475
			}
		}
	}
	
	spain_colonize_the_caribbeans = {
		icon = mission_conquer_50_development
		required_missions = { spain_discover_the_caribbeans }
		position = 4
		provinces_to_highlight = {
			colonial_region = colonial_the_carribean
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = {
						is_colonial_nation_of = ROOT
					}
				}
			}
		}
		trigger = {
			calc_true_if = {
				all_province = {
					colonial_region = colonial_the_carribean
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				amount = 5
			}
		}
		effect = {
			add_prestige = 15
			add_country_modifier = {
				name = spain_colonize_the_caribbeans_modifier
				duration = 5475
			}
		}
	}
	
	spain_colonize_la_plata = {
		icon = mission_conquer_50_development
		required_missions = { spain_colonize_colombia }
		position = 5
		provinces_to_highlight = {
			colonial_region = colonial_la_plata
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = {
						is_colonial_nation_of = ROOT
					}
				}
			}
		}
		trigger = {
			calc_true_if = {
				all_province = {
					colonial_region = colonial_la_plata
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				amount = 5
			}
		}
		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = spain_colonize_la_plata_modifier
				duration = 5475
			}
		}
	}
	
	spain_control_trade_node_sevilla = {
		icon = mission_conquer_50_development
		required_missions = { spain_spanish_realm }
		position = 6
		trigger = {
			1293 = {
				is_strongest_trade_power = ROOT
			}
		}
		effect = {
			add_mercantilism = 3
			if = {
				limit = {
					any_country = {
						NOT = { tag = ROOT }
						NOT = { is_subject_of = ROOT }
						any_owned_province = {
							region = maghreb_region
							NOT = { area = western_morocco_area }
							NOT = { area = southern_morocco_area }
							NOT = { area = marrekesh_area }
							province_has_center_of_trade_of_level = 1
						}
					}
				}
				every_country = {
					limit = {
						NOT = { tag = ROOT }
						NOT = { is_subject_of = ROOT }
						any_owned_province = {
							region = maghreb_region
							NOT = { area = western_morocco_area }
							NOT = { area = southern_morocco_area }
							NOT = { area = marrekesh_area }
							province_has_center_of_trade_of_level = 1
						}
					}
					reverse_add_casus_belli = {
						target = ROOT
						type = cb_conquer_center_of_trades
						months = 120
					}
				}
			}
			else = {
				add_country_modifier = {
					name = spain_control_trade_node_sevilla_modifier
					duration = 5475
				}
			}
			if = {
				limit = {
					owns_core_province = 224
				}
				224 = {
					if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 1 }
						}
						center_of_trade = 3
					}
					else_if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 2 }
						}
						add_center_of_trade_level = 2
					}
					else_if = {
						limit = {
							NOT = { province_has_center_of_trade_of_level = 3 }
						}
						add_center_of_trade_level = 1
					}
					else = {
						1293 = {
							add_trade_node_income = 10
						}
					}
				}
			}
		}
	}
	
	spain_conquer_maghreb_cot = {
		icon = mission_conquer_50_development
		required_missions = { spain_control_trade_node_sevilla spain_conquer_tanger }
		position = 7
		provinces_to_highlight = {
			region = maghreb_region
			province_has_center_of_trade_of_level = 1
			NOT = { owned_by = ROOT }
		}
		trigger = {
			maghreb_region = {
				type = all
				OR = {
					owned_by = ROOT
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_conquer_maghreb_cot_modifier
				duration = 5475
			}
			random_province = {
				limit = {
					region = maghreb_region
					province_has_center_of_trade_of_level = 1
					NOT = { province_has_center_of_trade_of_level = 3 }
				}
				add_center_of_trade_level = 1
			}
		}
	}
	
	spain_control_trade_node_safi_and_tafilalt = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_maghreb_cot }
		position = 8
		trigger = {
			1110 = {
				is_strongest_trade_power = ROOT
			}
			341 = {
				is_strongest_trade_power = ROOT
			}
		}
		effect = {
			add_years_of_income = 1.5
			add_mercantilism = 3
		}
	}
	
	spain_control_trade_node_genoa = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_corsica }
		position = 9
		trigger = {
			1297 = {
				is_strongest_trade_power = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_control_trade_node_genoa_modifier
				duration = 7300
			}
		}
	}
	
	spain_control_trade_node_venice = {
		icon = mission_conquer_50_development
		required_missions = { spain_control_trade_node_genoa spain_conquer_genoa_and_milan }
		position = 10
		trigger = {
			1308 = {
				is_strongest_trade_power = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_control_trade_node_venice_modifier
				duration = -1
			}
		}
	}
	
	spain_build_production_buildings = {
		icon = mission_have_manufactories
		position = 11
		required_missions = { }
		trigger = {
			calc_true_if = {
				all_owned_province = {
					OR = {
						has_building = workshop
						has_building = counting_house
					}
				}
				amount = 10
			}
		}
		effect = {
			add_dip_power = 50
			add_country_modifier = {
				name = spain_production_buildings
				duration = 7300
			}
		}
	}
	
	spain_build_trade_buildings = {
		icon = mission_early_game_buildings
		position = 12
		required_missions = { spain_build_production_buildings }
		trigger = {
			calc_true_if = {
				all_owned_province = {
					OR = {
						has_building = marketplace
						has_building = trade_depot
						has_building = stock_exchange
					}
				}
				amount = 10
			}
		}
		effect = {
			add_adm_power = 50
			add_country_modifier = {
				name = spain_trade_buildings
				duration = 7300
			}
		}
	}
	
	spain_control_trade_node_bordeaux = {
		icon = mission_conquer_50_development
		required_missions = { spain_build_trade_buildings spain_conquer_french_pyrenees }
		position = 8
		trigger = {
			1276 = {
				is_strongest_trade_power = ROOT
			}
		}
		effect = {
			add_mercantilism = 3
			add_corruption = -5
		}
	}
	
	spain_become_strongest_naval_power = {
		icon = mission_conquer_50_development
		required_missions = { spain_the_spanish_armada }
		position = 9
		trigger = {
			num_of_heavy_ship = 25
			num_of_light_ship = 50
			num_of_galley = 30
			all_country = {
				NOT = { navy_size = ROOT }
			}
		}
		effect = {
			add_yearly_sailors = 2
			add_navy_tradition = 25
			define_advisor = {
				type = naval_reformer
				skill = 3
				male = yes
				culture = ROOT
				religion = ROOT
				cost_multiplier = 0.25
			}
		}
	}
	
	spain_spanish_hegemony = {
		icon = mission_conquer_50_development
		required_missions = { spain_become_strongest_naval_power spain_vassalize_france spain_the_english_threat }
		position = 10
		provinces_to_highlight = {
			OR = {
				region = iberia_region
				region = france_region
				region = british_isles_region
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			custom_trigger_tooltip = {
				tooltip = SPA_HAS_MOST_DEVELOPMENT_IN_EUROPE
				NOT = {
					any_country = {
						capital_scope = {
							continent = europe
						}
						total_development = ROOT
					}
				}
			}
			iberia_region = {
				type = all
				owned_by = ROOT
			}
			num_of_owned_provinces_with = {
				value = 10
				region = france_region
			}
			num_of_owned_provinces_with = {
				value = 10
				region = british_isles_region
			}
		}
		effect = {
			add_prestige = 50
			add_legitimacy = 20
			country_event = { id = me_spain_missions_events.5 }
		}
	}
}

SPA_missions_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = SPA
		is_random_new_world = no
		NOT = { map_setup = map_setup_random }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	spain_become_an_empire = {
		icon = mission_conquer_50_development
		position = 1
		required_missions = { }
		trigger = {
			if = {
				limit = {
					has_dlc = "Common Sense"
				}
				OR = {
					government_rank = 3
					is_emperor = yes
				}
			}
			else = {
				OR = {
					total_development = 1000
					is_emperor = yes
				}
			}
			if = {
				limit = {
					has_dlc = "Rights of Man"
				}
				is_great_power = yes
				NOT = { great_power_rank = 4 }
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = SPA_LESS_THAN_3_COUNTRIES_HAVE_MORE_DEVELOPMENT_THAN_US
					NOT = {
						calc_true_if = {
							all_country = {
								total_development = ROOT
							}
							amount = 3
						}
					}
				}
			}
			iberia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_stability_or_adm_power = yes
			add_country_modifier = {
				name = spain_become_an_empire_modifier
				duration = -1
			}
		}
	}
	
	spain_become_a_colonial_empire = {
		icon = mission_conquer_50_development
		position = 2
		required_missions = { spain_become_an_empire spain_beginning_of_a_colonial_empire }
		trigger = {
			colony = 5
		}
		effect = {
			add_country_modifier = {
				name = spain_become_a_colonial_empire_modifier
				duration = 7300
			}
			every_subject_country = {
				limit = {
					is_colonial_nation = yes
				}
				add_liberty_desire = -10
			}
		}
	}
	
	spain_discover_south_america = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquistadors }
		position = 3
		trigger = {
			south_america = {
				has_discovered = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_discover_south_america_modifier
				duration = 5475
			}
		}
	}
	
	spain_colonize_colombia = {
		icon = mission_conquer_50_development
		required_missions = { spain_discover_south_america }
		position = 4
		provinces_to_highlight = {
			colonial_region = colonial_colombia
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = {
						is_colonial_nation_of = ROOT
					}
				}
			}
		}
		trigger = {
			calc_true_if = {
				all_province = {
					colonial_region = colonial_colombia
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				amount = 5
			}
		}
		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = spain_colonize_colombia_modifier
				duration = 5475
			}
		}
	}
	
	spain_discover_peru = {
		icon = mission_conquer_50_development
		required_missions = { spain_colonize_colombia }
		position = 5
		trigger = {
			colonial_peru = {
				has_discovered = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_discover_peru_modifier
				duration = 5475
			}
		}
	}
	
	spain_conquer_naples = {
		icon = mission_conquer_50_development
		required_missions = { spain_spanish_realm }
		position = 6
		provinces_to_highlight = {
			OR = {
				area = apulia_area
				area = calabria_area
				province_id = 120
				province_id = 121
				province_id = 2983
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			apulia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			calabria_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			120 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			121 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			2983 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_prestige = 10
			sicily_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	spain_conquer_sicily = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_naples }
		position = 7
		provinces_to_highlight = {
			area = sicily_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			sicily_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			sicily_area = {
				limit = {
					owned_by = ROOT
				}
				add_local_autonomy = -10
				add_unrest = -5
			}
			corsica_sardinia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	spain_conquer_corsica = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_sicily }
		position = 8
		provinces_to_highlight = {
			area = corsica_sardinia_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			corsica_sardinia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			# Genoa
			101 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			2992 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			# Milan
			if = {
				limit = {
					NOT = { exists = MLO }
				}
				2979 = {
					if = {
						limit = {
							NOT = { owned_by = ROOT }
							NOT = { is_core = ROOT }
						}
						add_permanent_claim = ROOT
					}
				}
				104 = {
					if = {
						limit = {
							NOT = { owned_by = ROOT }
							NOT = { is_core = ROOT }
						}
						add_permanent_claim = ROOT
					}
				}
				1862 = {
					if = {
						limit = {
							NOT = { owned_by = ROOT }
							NOT = { is_core = ROOT }
						}
						add_permanent_claim = ROOT
					}
				}
				105 = {
					if = {
						limit = {
							NOT = { owned_by = ROOT }
							NOT = { is_core = ROOT }
						}
						add_permanent_claim = ROOT
					}
				}
			}
			else = {
				add_casus_belli = {
					target = MLO
					type = cb_vassalize_mission
					months = 300
				}
			}
		}
	}
	
	spain_conquer_genoa_and_milan = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquer_corsica }
		position = 9
		provinces_to_highlight = {
			OR = {
				province_id = 101
				province_id = 2992
				province_id = 2979
				province_id = 104
				province_id = 1862
				province_id = 105
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			101 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			2992 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			OR = {
				AND = {
					exists = MLO
					overlord_of = MLO
				}
				AND = {
					2979 = {
						country_or_non_sovereign_subject_holds = ROOT
					}
					104 = {
						country_or_non_sovereign_subject_holds = ROOT
					}
					1862 = {
						country_or_non_sovereign_subject_holds = ROOT
					}
					105 = {
						country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_conquer_genoa_and_milan_modifier
				duration = 7300
			}
			country_event = { id = me_spain_missions_events.1 }
		}
	}
	
	spain_the_habsburg_realm = {
		icon = mission_conquer_50_development
		required_missions = { spain_become_emperor }
		position = 10
		trigger = {
			dynasty = "von Habsburg"
			if = {
				limit = {
					exists = HAB
				}
				if = {
					limit = {
						NOT = { senior_union_with = HAB }
					}
					is_subject = no
					HAB = {
						is_subject = no
						dynasty = "von Habsburg"
						has_heir = no
					}
					marriage_with = HAB
					reverse_has_opinion = {
						who = HAB
						value = 200
					}
					has_spy_network_in = {
						who = HAB
						value = 50
					}
				}
				else = {
					senior_union_with = HAB
					legitimacy = 100
				}
			}
			else = {
				legitimacy = 100
				HAB = {
					all_core_province = {
						owned_by = ROOT
					}
				}
			}
		}
		effect = {
			if = {
				limit = {
					exists = HAB
					NOT = { senior_union_with = HAB }
				}
				add_spy_network_in = {
					who = HAB
					value = -50
				}
				country_event = { id = me_spain_missions_events.2 }
				custom_tooltip = SPA_HAB_UNION_EVENT_WILL_WORSEN_OPINION
			}
			else = {
				add_prestige = 25
				if = {
					limit = {
						is_emperor = yes
					}
					add_imperial_influence = 10
				}
				if = {
					limit = {
						senior_union_with = HAB
					}
					HAB = {
						add_liberty_desire = 50
					}
				}
			}
		}
	}
	
	spain_spanish_austrian_empire = {
		icon = mission_conquer_50_development
		required_missions = { spain_the_habsburg_realm }
		position = 11
		provinces_to_highlight = {
			OR = {
				AND = {
					NOT = { overlord_of = HAB }
					OR = {
						area = tirol_area
						area = austria_proper_area
						area = inner_austria_area
						area = carinthia_area
					}
					NOT = { owned_by = ROOT }
				}
				always = no
			}
		}
		trigger = {
			OR = {
				AND = {
					overlord_of = HAB
					HAB = {
						years_in_vassalage_under = {
							who = ROOT
							years = 5
							all_subject_country = yes
						}
					}
				}
				AND = {
					tirol_area = {
						type = all
						owned_by = ROOT
					}
					austria_proper_area = {
						type = all
						owned_by = ROOT
					}
					inner_austria_area = {
						type = all
						owned_by = ROOT
					}
					carinthia_area = {
						type = all
						owned_by = ROOT
					}
				}
			}
		}
		effect = {
			add_prestige = 20
			add_legitimacy = 15
			flanders_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			holland_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			netherlands_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			100 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			4382 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			4381 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			92 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			91 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			1866 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}
	
	spain_iron_fist_in_the_netherlands = {
		icon = mission_conquer_50_development
		required_missions = { spain_spanish_austrian_empire }
		position = 12
		provinces_to_highlight = {
			OR = {
				area = flanders_area
				area = holland_area
				area = netherlands_area
				province_id = 100
				province_id = 4382
				province_id = 4381
				province_id = 92
				province_id = 91
				province_id = 1866
			}
			NOT = { owned_by = ROOT }
		}
		trigger = {
			flanders_area = {
				type = all
				owned_by = ROOT
			}
			holland_area = {
				type = all
				owned_by = ROOT
			}
			netherlands_area = {
				type = all
				owned_by = ROOT
			}
			owns = 100
			owns = 4382
			owns = 4381
			owns = 92
			owns = 91
			owns = 1866
		}
		effect = {
			custom_tooltip = SPA_NETHERLANDS_CANNOT_REVOLT_TIL_RULER_DEATH
			set_ruler_flag = spain_iron_fist_in_the_netherlands_ruler_flag
			every_province = {
				limit = {
					OR = {
						area = flanders_area
						area = holland_area
						area = netherlands_area
						province_id = 100
						province_id = 4382
						province_id = 4381
						province_id = 92
						province_id = 91
						province_id = 1866
					}
				}
				add_province_triggered_modifier = spain_iron_fist_in_the_netherlands_province_modifier
				set_province_flag = no_dutch_revolt
				set_province_flag = no_dutch_revolt_because_of_spain_mission
			}
		}
	}
	
	spain_the_spanish_armada = {
		icon = mission_conquer_50_development
		required_missions = { spain_iron_fist_in_the_netherlands }
		position = 13
		trigger = {
			num_of_heavy_ship = 80
		}
		effect = {
			add_country_modifier = {
				name = spain_the_spanish_armada_modifier
				duration = 5475
			}
			235 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_claim = ROOT
				}
			}
			4371 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_claim = ROOT
				}
			}
		}
	}
	
	spain_the_english_threat = {
		icon = mission_conquer_50_development
		required_missions = { spain_the_spanish_armada }
		position = 14
		provinces_to_highlight = {
			OR = {
				province_id = 235
				province_id = 4371
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
			}
		}
		trigger = {
			owns_core_province = 235
			owns_core_province = 4371
		}
		effect = {
			home_counties_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_claim = ROOT
			}
			east_anglia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_claim = ROOT
			}
			east_midlands_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_claim = ROOT
			}
			wessex_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_claim = ROOT
			}
			if = {
				limit = {
					exists = ENG
					NOT = { religion = ENG }
				}
				ENG = {
					country_event = { id = me_spain_missions_events.6 }
				}
			}
		}
	}
	
	spain_an_unholy_alliance = {
		icon = mission_conquer_50_development
		required_missions = { spain_strong_catholic_league }
		position = 15
		trigger = {
			NOT = { mission_completed = spain_the_last_crusade }
			if = {
				limit = {
					has_dlc = "Art of War"
				}
				hre_leagues_enabled = yes
				OR = {
					TUR = {
						in_league = catholic
					}
					alliance_with = TUR
				}
			}
			else = {
				current_age = age_of_reformation
				alliance_with = TUR
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_an_unholy_alliance_modifier
				duration = 7300
			}
		}
	}
	
	spain_force_conversion = {
		icon = mission_conquer_50_development
		required_missions = { spain_win_the_league_war }
		position = 16
		trigger = {
			religion = catholic
			custom_trigger_tooltip = {
				tooltip = obj_force_converted_tooltip
				has_country_flag = force_converted
			}
		}
		effect = {
			add_prestige = 10
			add_papal_influence = 20
		}
	}
	
	spain_build_churches = {
		icon = mission_early_game_buildings
		required_missions = { }
		position = 17
		trigger = {
			temple = 10
		}
		effect = {
			add_years_of_income = 1
			add_country_modifier = {
				name = spain_build_churches_modifier
				duration = 3650
			}
		}
	}
	
	spain_build_cathedrals = {
		icon = mission_european_church
		position = 18
		required_missions = { spain_build_churches }
		trigger = {
			cathedral = 10
		}
		effect = {
			add_years_of_income = 2
			add_country_modifier = {
				name = spain_build_cathedrals_modifier
				duration = 7300
			}
		}
	}
	
	spain_become_papal_controller = {
		icon = mission_hands_praying
		position = 18
		required_missions = { spain_build_cathedrals }
		trigger = {
			religion = catholic
			is_papal_controller = yes
		}
		effect = {
			add_country_modifier = {
				name = spain_become_papal_controller_modifier
				duration = 5475
			}
		}
	}
	
	spain_the_last_crusade = {
		icon = mission_conquer_50_development
		position = 19
		required_missions = { spain_become_papal_controller spain_catholic_empire }
		trigger = {
			NOT = { mission_completed = spain_an_unholy_alliance }
			religion = catholic
			OR = {
				is_in_war = {
					attacker_leader = ROOT
					defender_leader = TUR
					casus_belli = cb_crusade
					war_score = 70
				}
				war_score_against = {
					who = TUR
					value = 90
				}
			}
		}
		effect = {
			add_prestige = 20
			add_country_modifier = {
				name = spain_the_last_crusade_modifier
				duration = 3650
			}
		}
	}
}

SPA_missions_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = SPA
		is_random_new_world = no
		NOT = { map_setup = map_setup_random }
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	spain_build_manufactories = {
		icon = mission_have_manufactories
		position = 1
		required_missions = { }
		trigger = {
			calc_true_if = {
				all_owned_province = {
					OR = {
						has_building = wharf
						has_building = weapons
						has_building = textile
						has_building = tradecompany
						has_building = farm_estate
						has_building = mills
						has_building = plantations
						has_building = furnace
					}
				}
				amount = 10
			}
		}
		effect = {
			add_treasury = 300
			add_country_modifier = {
				name = spain_build_manufactories_modifier
				duration = 7300
			}
		}
	}
	
	spain_trade_income = {
		icon = mission_high_income
		position = 2
		required_missions = { spain_build_manufactories }
		trigger = {
			trade_income_percentage = 0.5
		}
		effect = {
			add_mercantilism = 5
			add_dip_power = 100
		}
	}
	
	spain_colonize_the_philippines = {
		icon = mission_conquer_50_development
		required_missions = { spain_conquistadors }
		position = 3
		provinces_to_highlight = {
			OR = {
				area = luzon_area
				area = southern_luzon_area
				area = palawan_area
				area = visayas_area
				area = mindanao_area
				area = west_mindanao_area
			}
			has_discovered = ROOT
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				OR = {
					area = luzon_area
					area = southern_luzon_area
					area = palawan_area
					area = visayas_area
					area = mindanao_area
					area = west_mindanao_area
				}
			}
		}
		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = spain_colonize_the_philippines_modifier
				duration = 5475
			}
		}
	}
	
	spain_control_trade_node_philippines = {
		icon = mission_conquer_50_development
		required_missions = { spain_colonize_the_philippines }
		position = 4
		trigger = {
			1397 = {
				is_strongest_trade_power = ROOT
			}
		}
		effect = {
			add_years_of_income = 2
			add_adm_power = 75
			add_dip_power = 75
			add_mil_power = 75
		}
	}
	
	spain_colonize_brazil = {
		icon = mission_conquer_50_development
		required_missions = { spain_colonize_colombia }
		position = 5
		provinces_to_highlight = {
			colonial_region = colonial_brazil
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = {
						is_colonial_nation_of = ROOT
					}
				}
			}
		}
		trigger = {
			calc_true_if = {
				all_province = {
					colonial_region = colonial_brazil
					OR = {
						owned_by = ROOT
						owner = {
							is_colonial_nation_of = ROOT
						}
					}
				}
				amount = 5
			}
			if = {
				limit = {
					has_dlc = "El Dorado"
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = SPA_BRAZIL_WAS_NOT_GIVEN_TO_PORTUGAL_IN_TREATY_OF_TORDESILLAS
						colonial_brazil = {
							type = all
							NOT = { is_religion_grant_colonial_claim = POR }
						}
					}
					mission_completed = spain_conquer_atlantic_islands
				}
			}
			else = {
				OR = {
					colonial_brazil = {
						type = all
						NOT = {
							OR = {
								owned_by = POR
								owner = {
									is_subject_of = POR
								}
							}
						}
					}
					mission_completed = spain_conquer_atlantic_islands
				}
			}
		}
		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = spain_colonize_brazil_modifier
				duration = 5475
			}
		}
	}
	
	spain_the_incan_gold = {
		icon = mission_conquer_50_development
		required_missions = { spain_discover_peru }
		position = 6
		provinces_to_highlight = {
			colonial_region = colonial_peru
			trade_goods = gold
			has_discovered = ROOT
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			if = {
				limit = {
					colonial_peru = {
						trade_goods = gold
					}
				}
				colonial_peru = {
					type = all
					OR = {
						trade_goods = gold
						NOT = { country_or_non_sovereign_subject_holds = ROOT }
					}
				}
			}
			else = {
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 5
					colonial_region = colonial_peru
				}
			}
			OR = {
				war_with = INC
				overlord_of = INC
				NOT = { exists = INC }
			}
		}
		effect = {
			add_years_of_income = 2.5
			add_country_modifier = {
				name = spain_the_incan_gold_modifier
				duration = 5475
			}
		}
	}
	
	spain_colonize_peru = {
		icon = mission_conquer_50_development
		required_missions = { spain_the_incan_gold }
		position = 7
		provinces_to_highlight = {
			colonial_region = colonial_peru
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = {
						is_colonial_nation_of = ROOT
					}
				}
			}
		}
		trigger = {
			colonial_peru = {
				type = all
				OR = {
					owned_by = ROOT
					owner = {
						is_colonial_nation_of = ROOT
					}
				}
			}
		}
		effect = {
			random_subject_country = {
				limit = {
					is_colonial_nation = yes
					capital_scope = {
						colonial_region = colonial_peru
					}
				}
				add_liberty_desire = -25
			}
			add_country_modifier = {
				name = spain_colonize_peru_modifier
				duration = 7300
			}
		}
	}
	
	spain_imperial_ambitions = {
		icon = mission_conquer_50_development
		required_missions = { }
		position = 8
		trigger = {
			calc_true_if = {
				all_elector = {
					preferred_emperor = ROOT
				}
				amount = 2
			}
		}
		effect = {
			add_country_modifier = {
				name = spain_imperial_ambitions_modifier
				duration = 5475
			}
		}
	}
	
	spain_become_emperor = {
		icon = mission_empire
		required_missions = { spain_imperial_ambitions }
		position = 9
		trigger = {
			is_emperor = yes
		}
		effect = {
			add_imperial_influence = 5
			add_country_modifier = {
				name = spain_become_emperor_modifier
				duration = 7300
			}
		}
	}
	
	spain_become_hre_member = {
		icon = mission_conquer_50_development
		required_missions = { spain_become_emperor }
		position = 10
		trigger = {
			is_part_of_hre = yes
			num_of_owned_provinces_with = {
				value = 10
				is_part_of_hre = yes
			}
		}
		effect = {
			add_imperial_influence = 5
			add_country_modifier = {
				name = spain_become_hre_member_modifier
				duration = 5475
			}
		}
	}
	
	spain_catholic_spanish_lands = {
		icon = mission_conquer_50_development
		required_missions = { spain_become_hre_member }
		position = 12
		provinces_to_highlight = {
			owned_by = ROOT
			is_part_of_hre = yes
			NOT = { religion = catholic }
		}
		trigger = {
			OR = {
				current_age = age_of_reformation
				AND = {
					is_religion_enabled = protestant
					NOT = { current_age = age_of_discovery }
				}
			}
			religion = catholic
			all_owned_province = {
				OR = {
					NOT = { is_part_of_hre = yes }
					religion = catholic
				}
			}
		}
		effect = {
			define_advisor = {
				type = inquisitor
				skill = 3
				male = yes
				culture = ROOT
				religion = ROOT
				cost_multiplier = 0.25
			}
			add_country_modifier = {
				name = spain_catholic_spanish_lands_modifier
				duration = 5475
			}
			
			custom_tooltip = SPA_OWNED_HRE_PROVINCE_GET_SPANISH_LANDS_MODIFIER
			hidden_effect = {
				every_owned_province = {
					limit = {
						is_part_of_hre = yes
						NOT = { region = iberia_region }
						religion = catholic
					}
					add_province_modifier = {
						name = spain_catholic_spanish_lands_province_modifier
						duration = 3650
					}
				}
			}
		}
	}
	
	spain_strong_catholic_league = {
		icon = mission_conquer_50_development
		required_missions = { spain_catholic_spanish_lands }
		position = 14
		trigger = {
			if = {
				limit = {
					has_dlc = "Art of War"
				}
				hre_leagues_enabled = yes
				in_league = catholic
				calc_true_if = {
					all_country = {
						in_league = catholic
						total_development = 50
					}
					amount = 5
				}
			}
			else = {
				current_age = age_of_reformation
				calc_true_if = {
					all_ally = {
						religion = catholic
						total_development = 50
					}
					amount = 3
				}
			}
		}
		effect = {
			add_papal_influence = 25
			add_country_modifier = {
				name = spain_strong_catholic_league_modifier
				duration = 5475
			}
		}
	}
	
	spain_win_the_league_war = {
		icon = mission_conquer_50_development
		required_missions = { spain_strong_catholic_league }
		position = 15
		trigger = {
			if = {
				limit = {
					has_dlc = "Art of War"
				}
				religion = catholic
				hre_religion = catholic
				hre_religion_locked = yes
				custom_trigger_tooltip = {
					tooltip = obj_religious_league_war_on_winning_side_tooltip
					has_country_flag = religious_league_war_on_winning_side
				}
			}
			else = {
				OR = {
					calc_true_if = {
						all_country = {
							is_part_of_hre = yes
							OR = {
								religion = protestant
								religion = reformed
							}
							ROOT = {
								war_score_against = {
									who = PREV
									value = 80
								}
							}
						}
						amount = 3
					}
					NOT = {
						any_country = {
							is_part_of_hre = yes
							OR = {
								religion = protestant
								religion = reformed
							}
						}
					}
				}
			}
		}
		effect = {
			add_imperial_influence = 10
			add_papal_influence = 10
			add_country_modifier = {
				name = spain_win_the_league_war_modifier
				duration = 7300
			}
		}
	}
	
	spain_catholic_electors = {
		icon = mission_conquer_50_development
		required_missions = { spain_win_the_league_war }
		position = 16
		trigger = {
			religion = catholic
			all_elector = {
				religion = catholic
				preferred_emperor = ROOT
			}
		}
		effect = {
			add_dip_power = 100
			add_country_modifier = {
				name = spain_catholic_electors_modifier
				duration = 5475
			}
		}
	}
	
	spain_spanish_inquisition = {
		icon = mission_conquer_50_development
		required_missions = { spain_catholic_electors }
		position = 17
		trigger = {
			religion = catholic
			all_province = {
				OR = {
					NOT = { is_part_of_hre = yes }
					has_hostile_reformation_center = no
				}
			}
		}
		effect = {
			add_adm_power = 100
			add_papal_influence = 30
			add_country_modifier = {
				name = spain_spanish_inquisition_modifier
				duration = 5475
			}
		}
	}
	
	spain_catholic_hre = {
		icon = mission_conquer_50_development
		required_missions = { spain_spanish_inquisition }
		position = 18
		trigger = {
			religion = catholic
			all_province = {
				OR = {
					NOT = { is_part_of_hre = yes }
					religion = catholic
				}
			}
		}
		effect = {
			add_adm_power = 100
			add_mil_power = 100
			add_papal_influence = 25
			add_country_modifier = {
				name = spain_catholic_hre_modifier
				duration = 5475
			}
		}
	}
	
	spain_catholic_empire = {
		icon = mission_conquer_50_development
		required_missions = { spain_catholic_hre }
		position = 18
		trigger = {
			religion = catholic
			all_owned_province = {
				religion = catholic
			}
		}
		effect = {
			add_prestige = 20
			add_legitimacy = 20
			add_country_modifier = {
				name = spain_catholic_empire_modifier
				duration = 5475
			}
		}
	}
}