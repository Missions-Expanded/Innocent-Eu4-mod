# province scope
## add manufactory in scope
### build_possible_manufactory_in_province = yes
build_possible_manufactory_in_province = {
	custom_tooltip = BUILD_MATCHING_MANUFACTORY_IN_THIS_PROVINCE
	hidden_effect = {
		if = {
			limit = {
				has_no_manufactory_trigger = yes
			}
			if = {
				limit = {
					OR = {
						trade_goods = naval_supplies
						trade_goods = fish
						trade_goods = salt
					}
				}
				if = {
					limit = {
						ROOT = { dip_tech = 11 }
					}
					add_building = wharf
				}
				else = {
					ROOT = { add_dip_power = 20 }
				}
			}
			else_if = {
				limit = {
					OR = {
						trade_goods = copper
						trade_goods = iron
					}
				}
				if = {
					limit = {
						ROOT = { mil_tech = 11 }
					}
					add_building = weapons
				}
				else = {
					ROOT = { add_mil_power = 20 }
				}
			}
			else_if = {
				limit = {
					OR = {
						trade_goods = wool
						trade_goods = cloth
						trade_goods = silk
						trade_goods = dyes
					}
				}
				if = {
					limit = {
						ROOT = { adm_tech = 11 }
					}
					add_building = textile
				}
				else = {
					ROOT = { add_adm_power = 20 }
				}
			}
			else_if = {
				limit = {
					OR = {
						trade_goods = coffee
						trade_goods = cotton
						trade_goods = sugar
						trade_goods = tobacco
						trade_goods = tea
						trade_goods = cocoa
					}
				}
				if = {
					limit = {
						ROOT = { adm_tech = 14 }
					}
					add_building = plantations
				}
				else = {
					ROOT = { add_adm_power = 20 }
				}
			}
			else_if = {
				limit = {
					OR = {
						trade_goods = ivory
						trade_goods = slaves
						trade_goods = spices
						trade_goods = fur
						trade_goods = incense
					}
				}
				if = {
					limit = {
						ROOT = { dip_tech = 14 }
					}
					add_building = tradecompany
				}
				else = {
					ROOT = { add_dip_power = 20 }
				}
			}
			else_if = {
				limit = {
					OR = {
						trade_goods = grain
						trade_goods = livestock
						trade_goods = wine
					}
				}
				if = {
					limit = {
						ROOT = { adm_tech = 6 }
					}
					add_building = farm_estate
				}
				else = {
					ROOT = { add_adm_power = 20 }
				}
			}
			else_if = {
				limit = {
					OR = {
						trade_goods = paper
						trade_goods = gems
						trade_goods = tropical_wood
						trade_goods = glass
						trade_goods = chinaware
					}
				}
				if = {
					limit = {
						ROOT = { adm_tech = 16 }
					}
					add_building = mills
				}
				else = {
					ROOT = { add_adm_power = 20 }
				}
			}
			else_if = {
				limit = {
					has_dlc = "Rule Britannia"
					trade_goods = coal
				}
				if = {
					limit = {
						ROOT = { adm_tech = 21 }
					}
					add_building = furnace
				}
				else = {
					ROOT = { add_adm_power = 20 }
				}
			}
			else = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
		}
		else = {
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
		}
	}
}

## create or add a CoT
### create_or_add_center_of_trade_level = { level = <number> }
create_or_add_center_of_trade_level = {
	if = {
		limit = {
			variable_arithmetic_trigger = {
				export_to_variable = {
					which = var
					value = $level$
				}
				check_variable = { which = var value = 1 }
			}
		}
		if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			center_of_trade = $level$
		}
		else_if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 2 }
			}
			if = {
				limit = {
					variable_arithmetic_trigger = {
						export_to_variable = {
							which = var
							value = $level$
						}
						check_variable = { which = var value = 2 }
					}
				}
				add_center_of_trade_level = 2
			}
			else = {
				add_center_of_trade_level = 1
			}
		}
		else_if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 3 }
			}
			add_center_of_trade_level = 1
		}
		else = {
			add_base_production = 2
		}
	}
	else_if = {
		limit = {
			variable_arithmetic_trigger = {
				export_to_variable = {
					which = var
					value = $level$
				}
				NOT = { check_variable = { which = var value = 0 } }
			}
		}
		if = {
			limit = {
				province_has_center_of_trade_of_level = 3
			}
			if = {
				limit = {
					variable_arithmetic_trigger = {
						export_to_variable = {
							which = var
							value = $level$
						}
						check_variable = { which = var value = -1 }
					}
				}
				add_center_of_trade_level = -1
			}
			else = {
				add_center_of_trade_level = -2
			}
		}
		else_if = {
			limit = {
				province_has_center_of_trade_of_level = 2
			}
			add_center_of_trade_level = -1
		}
	}
}

## replace a province modifier with another
### replace_province_modifier = { remove = test_modifier_1 add = test_modifier_2 time = -1 permanent = yes }
replace_province_modifier = {
	if = {
		limit = {
			has_province_modifier = $remove$
		}
		custom_tooltip = tt_replace_modifier_$remove$_with_$add$
		hidden_effect = {
			remove_province_modifier = $remove$
			if = {
				limit = {
					always = $permanent$
				}
				add_permanent_province_modifier = {
					name = $add$
					duration = $time$
				}
			}
			else = {
				add_province_modifier = {
					name = $add$
					duration = $time$
				}
			}
		}
	}
	else = {
		if = {
			limit = {
				always = $permanent$
			}
			add_permanent_province_modifier = {
				name = $add$
				duration = $time$
			}
		}
		else = {
			add_province_modifier = {
				name = $add$
				duration = $time$
			}
		}
	}
}

#Add from 1 to 6 develop in province[s] based on the Monarch's Skill
# add_development_scaled_on_monarch_skill = yes
add_development_scaled_on_monarch_skill = {
	custom_tooltip = ME_ADD_DEV_TT
	if = {
		limit = {
			owner = { ADM = 6 }
		}
		add_base_tax = 6
	}
	else_if = {
		limit = {
			owner = { ADM = 5 }
		}
		add_base_tax = 5
	}
	else_if = {
		limit = {
			owner = { ADM = 4 }
		}
		add_base_tax = 4
	}
	else_if = {
		limit = {
			owner = { ADM = 3 }
		}
		add_base_tax = 3
	}
	else_if = {
		limit = {
			owner = { ADM = 2 }
		}
		add_base_tax = 2
	}
	else_if = {
		limit = {
			owner = { ADM = 1 }
		}
		add_base_tax = 1
	}
	if = {
		limit = {
			owner = { DIP = 6 }
		}
		add_base_production = 6
	}
	else_if = {
		limit = {
			owner = { DIP = 5 }
		}
		add_base_production = 5
	}
	else_if = {
		limit = {
			owner = { DIP = 4 }
		}
		add_base_production = 4
	}
	else_if = {
		limit = {
			owner = { DIP = 3 }
		}
		add_base_production = 3
	}
	else_if = {
		limit = {
			owner = { DIP = 2 }
		}
		add_base_production = 2
	}
	else_if = {
		limit = {
			owner = { DIP = 1 }
		}
		add_base_production = 1
	}
	if = {
		limit = {
			owner = { MIL = 6 }
		}
		add_base_manpower = 6
	}
	else_if = {
		limit = {
			owner = { MIL = 5 }
		}
		add_base_manpower = 5
	}
	else_if = {
		limit = {
			owner = { MIL = 4 }
		}
		add_base_manpower = 4
	}
	else_if = {
		limit = {
			owner = { MIL = 3 }
		}
		add_base_manpower = 3
	}
	else_if = {
		limit = {
			owner = { MIL = 2 }
		}
		add_base_manpower = 2
	}
	else_if = {
		limit = {
			owner = { MIL = 1 }
		}
		add_base_manpower = 1
	}
}

#Add from 1 to 6 develop in province[s] based on the Monthly Monarch Power Gained
# add_development_scaled_on_monthly_monarch_power = yes
add_development_scaled_on_monthly_monarch_power = {
	custom_tooltip = ME_ADD_DEV_MONTHLY_TT
	if = {
		limit = {
			owner = { monthly_adm = 17 }
		}
		add_base_tax = 6
	}
	else_if = {
		limit = {
			owner = { monthly_adm = 14 }
		}
		add_base_tax = 5
	}
	else_if = {
		limit = {
			owner = { monthly_adm = 11 }
		}
		add_base_tax = 4
	}
	else_if = {
		limit = {
			owner = { monthly_adm = 8 }
		}
		add_base_tax = 3
	}
	else_if = {
		limit = {
			owner = { monthly_adm = 5 }
		}
		add_base_tax = 2
	}
	else_if = {
		limit = {
			owner = { monthly_adm = 2 }
		}
		add_base_tax = 1
	}
	if = {
		limit = {
			owner = { monthly_dip = 17 }
		}
		add_base_production = 6
	}
	else_if = {
		limit = {
			owner = { monthly_dip = 14 }
		}
		add_base_production = 5
	}
	else_if = {
		limit = {
			owner = { monthly_dip = 11 }
		}
		add_base_production = 4
	}
	else_if = {
		limit = {
			owner = { monthly_dip = 8 }
		}
		add_base_production = 3
	}
	else_if = {
		limit = {
			owner = { monthly_dip = 5 }
		}
		add_base_production = 2
	}
	else_if = {
		limit = {
			owner = { monthly_dip = 2 }
		}
		add_base_production = 1
	}
	if = {
		limit = {
			owner = { monthly_mil = 17 }
		}
		add_base_manpower = 6
	}
	else_if = {
		limit = {
			owner = { monthly_mil = 14 }
		}
		add_base_manpower = 5
	}
	else_if = {
		limit = {
			owner = { monthly_mil = 11 }
		}
		add_base_manpower = 4
	}
	else_if = {
		limit = {
			owner = { monthly_mil = 8 }
		}
		add_base_manpower = 3
	}
	else_if = {
		limit = {
			owner = { monthly_mil = 5 }
		}
		add_base_manpower = 2
	}
	else_if = {
		limit = {
			owner = { monthly_mil = 2 }
		}
		add_base_manpower = 1
	}
}

#Add from 1 to 3 develop in province[s] based on the Monarch's Skill
# add_development_half_monarch_skill = yes
add_development_half_monarch_skill = {
	custom_tooltip = ME_ADD_HALF_DEV_TT
	if = {
		limit = {
			owner = { ADM = 6 }
		}
		add_base_tax = 3
	}
	else_if = {
		limit = {
			owner = { ADM = 4 }
		}
		add_base_tax = 2
	}
	else_if = {
		limit = {
			owner = { ADM = 2 }
		}
		add_base_tax = 1
	}
	if = {
		limit = {
			owner = { DIP = 6 }
		}
		add_base_production = 3
	}
	else_if = {
		limit = {
			owner = { DIP = 4 }
		}
		add_base_production = 2
	}
	else_if = {
		limit = {
			owner = { DIP = 2 }
		}
		add_base_production = 1
	}
	if = {
		limit = {
			owner = { MIL = 6 }
		}
		add_base_manpower = 3
	}
	else_if = {
		limit = {
			owner = { MIL = 4 }
		}
		add_base_manpower = 2
	}
	else_if = {
		limit = {
			owner = { MIL = 2 }
		}
		add_base_manpower = 1
	}
}

#Add from 1 to 3 develop in province[s] based on the Monthly Monarch Power Gained
# add_development_half_monthly_monarch_power = yes
add_development_half_monthly_monarch_power = {
	custom_tooltip = ME_ADD_HALF_DEV_MONTHLY_TT
	if = {
		limit = {
			owner = { monthly_adm = 17 }
		}
		add_base_tax = 3
	}
	else_if = {
		limit = {
			owner = { monthly_adm = 11 }
		}
		add_base_tax = 2
	}
	else_if = {
		limit = {
			owner = { monthly_adm = 5 }
		}
		add_base_tax = 1
	}
	if = {
		limit = {
			owner = { monthly_dip = 17 }
		}
		add_base_production = 3
	}
	else_if = {
		limit = {
			owner = { monthly_dip = 11 }
		}
		add_base_production = 2
	}
	else_if = {
		limit = {
			owner = { monthly_dip = 5 }
		}
		add_base_production = 1
	}
	if = {
		limit = {
			owner = { monthly_mil = 17 }
		}
		add_base_manpower = 3
	}
	else_if = {
		limit = {
			owner = { monthly_mil = 11 }
		}
		add_base_manpower = 2
	}
	else_if = {
		limit = {
			owner = { monthly_mil = 5 }
		}
		add_base_manpower = 1
	}
}

#Add from 1 to 2 develop in province[s] based on the Monarch's Skill
# add_development_third_monarch_skill = yes
add_development_third_monarch_skill = {
	custom_tooltip = ME_ADD_THIRD_DEV_TT
	if = {
		limit = {
			owner = { ADM = 6 }
		}
		add_base_tax = 2
	}
	else_if = {
		limit = {
			owner = { ADM = 3 }
		}
		add_base_tax = 1
	}
	if = {
		limit = {
			owner = { DIP = 6 }
		}
		add_base_production = 2
	}
	else_if = {
		limit = {
			owner = { DIP = 3 }
		}
		add_base_production = 1
	}
	if = {
		limit = {
			owner = { MIL = 6 }
		}
		add_base_manpower = 2
	}
	else_if = {
		limit = {
			owner = { MIL = 3 }
		}
		add_base_manpower = 1
	}
}

#Add from 1 to 2 develop in province[s] based on the Monthly Monarch Power Gained
# add_development_third_monthly_monarch_power = yes
add_development_third_monthly_monarch_power = {
	custom_tooltip = ME_ADD_THIRD_DEV_MONTHLY_TT
	if = {
		limit = {
			owner = { monthly_adm = 14 }
		}
		add_base_tax = 2
	}
	else_if = {
		limit = {
			owner = { monthly_adm = 8 }
		}
		add_base_tax = 1
	}
	if = {
		limit = {
			owner = { monthly_dip = 14 }
		}
		add_base_production = 2
	}
	else_if = {
		limit = {
			owner = { monthly_dip = 8 }
		}
		add_base_production = 1
	}
	if = {
		limit = {
			owner = { monthly_mil = 14 }
		}
		add_base_manpower = 2
	}
	else_if = {
		limit = {
			owner = { monthly_mil = 8 }
		}
		add_base_manpower = 1
	}
}

## add/remove <value> papal influence, church power, etc.
### change_religious_influence_equivalent = { add = <number> }
### change_religious_influence_equivalent = { remove = <number> }
### value MUST be positive
change_religious_influence_equivalent = {
	[[add]
		add_papal_influence = $add$
		add_church_power = $add$
		add_fervor = $add$
		add_patriarch_authority = 0.$add$
		add_doom = $add$
		add_karma = $add$
		add_authority = $add$
		add_piety = 0.$add$
		if = {
			limit = {
				religion = confucianism
			}
			add_harmony = $add$
		}
		else = {
			hidden_effect = {
				add_harmony = $add$	# just in case any other religion might use harmony, it's added without a tooltip
			}
		}
	]
	[[remove]
		add_papal_influence = -$remove$
		add_church_power = -$remove$
		add_fervor = -$remove$
		add_patriarch_authority = -0.$remove$
		add_doom = -$remove$
		add_karma = -$remove$
		add_authority = -$remove$
		add_piety = -0.$remove$
		if = {
			limit = {
				religion = confucianism
			}
			add_harmony = -$remove$
		}
		else = {
			hidden_effect = {
				add_harmony = -$remove$	# just in case any other religion might use harmony, it's removed without a tooltip
			}
		}
	]
}

## replace a country modifier with another
### replace_country_modifier = { remove = test_modifier_1 add = test_modifier_2 time = -1 }
replace_country_modifier = {
	if = {
		limit = {
			has_country_modifier = $remove$
		}
		custom_tooltip = tt_replace_modifier_$remove$_with_$add$
		hidden_effect = {
			remove_country_modifier = $remove$
			add_country_modifier = {
				name = $add$
				duration = $time$
			}
		}
	}
	else = {
		add_country_modifier = {
			name = $add$
			duration = $time$
		}
	}
}

## release subjects and collapse nation
### release_subjects_and_cede_cores = { who = ROOT release_subjects = yes rebels = yes }
### "release_subjects" and "rebels" are optional
### must be used in the same scope as "who", "who" is used for some in-effect scopes, so only ROOT, FROM and direct tags/event targets work
release_subjects_and_cede_cores = {
	[[release_subjects]
		if = {
			limit = {
				always = $release_subjects$
			}
			release_all_subjects = yes
		}
	]
	custom_tooltip = RELEASE_SUBJECTS_AND_CEDE_CORES_CEDE_CORES_TT
	hidden_effect = {
		every_owned_province = {
			limit = {
				is_capital = no
				any_core_country = {
					NOT = { tag = $who$ }
				}
			}
			random_core_country = {
				limit = {
					NOT = { tag = $who$ }
				}
				hidden_effect = {
					if = {
						limit = {
							exists = no
						}
						set_country_flag = core_country_not_exists
					}
				}
				PREV = { cede_province = PREV }
				hidden_effect = {
					if = {
						limit = {
							has_country_flag = core_country_not_exists
						}
						clr_country_flag = core_country_not_exists
						change_government = monarchy
						add_government_reform = feudalism_reform
					}
				}
			}
		}
	}
	custom_tooltip = RELEASE_SUBJECTS_AND_CEDE_CORES_GAIN_UNREST_TT
	hidden_effect = {
		every_owned_province = {
			limit = {
				OR = {
					is_capital = yes
					NOT = {
						any_core_country = {
							NOT = { tag = $who$ }
						}
					}
				}
			}
			if = {
				limit = {
					any_country = {
						NOT = { tag = $who$ }
						primary_culture = PREV
					}
				}
				random_country = {
					limit = {
						NOT = { tag = $who$ }
						primary_culture = PREV
					}
					PREV = { add_core = PREV }
				}
			}
			add_unrest = 25
			add_nationalism = 10
			[[rebels]
				if = {
					limit = {
						always = $rebels$
						is_capital = no
					}
					nationalist_rebels = 1
				}
			]
		}
	}
	[[rebels]
		if = {
			limit = {
				always = $rebels$
			}
			custom_tooltip = RELEASE_SUBJECTS_AND_CEDE_CORES_SPAWN_REBELS_TT
		}
	]
}

## adds prestige until 100 is reached and then adds the rest as a random monarch power
### add_prestige_or_monarch_power = { amount = <number> }
add_prestige_or_monarch_power = {
	tooltip = {
		add_prestige = $amount$
	}
	custom_tooltip = ME_ADD_PRESTIGE_OR_MONARCHPOWER
	hidden_effect = {
		for = {
			amount = $amount$
			effect = "
				if = {
					limit = {
						NOT = { prestige = 100 }
					}
					add_prestige = 1
				}
				else = {
					add_adm_power = 1
					add_dip_power = 1
					add_mil_power = 1
				}
			"
		}
	}
}

## adds army tradition until 100 is reached and then adds the rest as mil power
### add_prestige_or_monarch_power = { amount = <number> }
add_army_tradition_or_mil_power = {
	tooltip = {
		add_army_tradition = $amount$
	}
	custom_tooltip = ME_ADD_ARMY_TRADITION_OR_MIL_POWER
	hidden_effect = {
		for = {
			amount = $amount$
			effect = "
				if = {
					limit = {
						NOT = { army_tradition = 99.9 }
					}
					add_army_tradition = 1
				}
				else = {
					add_mil_power = 3
				}
			"
		}
	}
}

## breaks the alliance between current scope and who
### break_alliance_with = { who = <scope> }
break_alliance_with = {
	if = {
		limit = {
			alliance_with = $who$
		}
		$who$ = {
			custom_tooltip = BREAK_ALLIANCE_WITH_TT
		}
		hidden_effect = {
			add_rival = $who$
			remove_rival = $who$
		}
	}
}

## adds the specified amount of crown land by reducing the land share of estates
### change_crown_land = { add = <number> }
### change_crown_land = { remove = <number> }
### must use positive numbers!
change_crown_land = {
	[[add]
		change_estate_land_share = {
			estate = all
			share = -$amount$
		}
	]
	[[remove]
		change_estate_land_share = {
			estate = all
			share = $amount$
		}
	]
}

## adds the culture as an accepted culture or 100 dip power
### add_accepted_culture_or_dip_power = { culture = <culture> }
### the custom effect is only able to check for up to 10 culture slots
add_accepted_culture_or_dip_power = {
	tooltip = {
		add_accepted_culture = $culture$
	}
	custom_tooltip = ADD_ACCEPTED_CULTURE_TT
	hidden_effect = {
		if = {
			limit = {
				accepted_culture = $culture$
			}
			add_dip_power = 100
		}
		else_if = {
			limit = {
				primary_culture = $culture$
			}
			add_dip_power = 100
		}
		else_if = {
			limit = {
				num_accepted_cultures = 10
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 11
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				num_accepted_cultures = 9
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 10
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				num_accepted_cultures = 8
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 9
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				num_accepted_cultures = 7
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 8
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				num_accepted_cultures = 6
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 7
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				num_accepted_cultures = 5
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 6
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				num_accepted_cultures = 4
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 5
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				num_accepted_cultures = 3
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 4
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				num_accepted_cultures = 2
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 3
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				num_accepted_cultures = 1
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 2
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else_if = {
			limit = {
				NOT = { num_accepted_cultures = 1 }
			}
			if = {
				limit = {
					has_global_modifier_value = {
						which = num_accepted_cultures
						value = 1
					}
				}
				add_accepted_culture = $culture$
			}
			else = {
				add_dip_power = 100
			}
		}
		else = {
			add_dip_power = 100
		}
	}
}

#####################
# 	USAGE
# 	pick_best_tags = {
#		global_trigger = "your global triggers here" OPTIONAL
#		<example>
#		global_trigger = "
#		OR = {
#			continent = europe
#			allied_with = ROOT
#		}"
#		scale = your trigger type here REQUIRED
#		<example>
#		scale = army_size
#		<number of tags here> = yes (supported numbers: 1-3) REQUIRED
#		event_target_name = "your name for event target here> REQUIRED
#		scope = "your scope here> OPTIONAL
#		<example>
#		scope = "every_neighbor_country"
#		default is every_country
#	}
#####################

pick_best_tags = {
	[[scope]
		pick_best_tags_2 = {
			scope = $scope$
			scale = $scale$
			event_target_name = $event_target_name$
			global_trigger = "$global_trigger$"
			1 = "$1$"
			2 = "$2$"
			3 = "$3$"
			4 = "$4$"
			5 = "$5$"
			10 = "$10$"
		}
		set_global_flag = PICK_BEST_TAG_FLAG
	] #curses for not having an [ELSE ] or something.
	if = {
		limit = {
			NOT = { has_global_flag = PICK_BEST_TAG_FLAG } #This check is here to prevent the algorithm from being run again after the scoped version was executed
		}
		pick_best_tags_2 = {
			scope = every_country
			scale = $scale$
			event_target_name = $event_target_name$
			global_trigger = "$global_trigger$"
			1 = "$1$"
			2 = "$2$"
			3 = "$3$"
			4 = "$4$"
			5 = "$5$"
			10 = "$10$"
		}
	}
	else = { clr_global_flag = PICK_BEST_TAG_FLAG }
}

pick_best_tags_2 = {
	hidden_effect = {
		[[1]
			if = {
				limit = { always = $1$ }
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
			}
		]
		[[2]
			if = {
				limit = { always = $2$ }
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
			}
		]
		[[3]
			if = {
				limit = { always = $3$ }
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 3
				}
			}
		]
		[[4]
			if = {
				limit = { always = $4$ }
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 3
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 4
				}
			}
		]
		[[5]
			if = {
				limit = { always = $5$ }
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 3
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 4
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 5
				}
			}
		]
		[[10]
			if = {
				limit = { always = $10$ }
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 3
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 4
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 5
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 6
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 7
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 8
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 9
				}
				pick_best_tag = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 10
				}
			}
		]
		$scope$ = {
			limit = {
				has_country_flag = $event_target_name$_exclude
			}
			clr_country_flag = $event_target_name$_exclude
		}
	}
}

pick_best_tag = {
	1 = { save_event_target_as = $event_target_name$_$number$ }
	$scope$ = {
		limit = {
			[[global_trigger] $global_trigger$ ]
			$scale$ = event_target:$event_target_name$_$number$
			NOT = { has_country_flag = $event_target_name$_exclude }
		}
		save_event_target_as = $event_target_name$_$number$
	}
	event_target:$event_target_name$_$number$ = {
		set_country_flag = $event_target_name$_exclude
	}
}

#####################
# 	USAGE
# 	pick_best_provinces = {
#		global_trigger = "your global triggers here" OPTIONAL
#		<example>
#		global_trigger = "
#		OR = {
#			continent = europe
#			allied_with = ROOT
#		}"
#		scale = your trigger type here REQUIRED
#		<example> scale = army_size
#		<number of provinces here> = yes (supported numbers: 1-3) REQUIRED
#		event_target_name = "your name for event target here> REQUIRED
#		scope = <Your scope here> (default: every_province)
#	}
#####################

pick_best_provinces = {
	[[scope]
		pick_best_provinces_2 = {
			scope = "$scope$"
			scale = "$scale$"
			event_target_name = "$event_target_name$"
			global_trigger = "$global_trigger$"
			1 = "$1$"
			2 = "$2$"
			3 = "$3$"
			4 = "$4$"
			5 = "$5$"
			10 = "$10$"
		}
		set_global_flag = PICK_BEST_PROVINCES_FLAG
	] #curses for not having an [ELSE ] or something.
	if = {
		limit = {
			NOT = { has_global_flag = PICK_BEST_PROVINCES_FLAG } #This check is here to prevent the algorithm from being run again after the scoped version was executed
		}
		pick_best_provinces_2 = {
			scope = " every_province "
			scale = "$scale$"
			event_target_name = "$event_target_name$"
			global_trigger = "$global_trigger$"
			1 = "$1$"
			2 = "$2$"
			3 = "$3$"
			4 = "$4$"
			5 = "$5$"
			10 = "$10$"
		}
	}
	else = { clr_global_flag = PICK_BEST_PROVINCES_FLAG }
}

pick_best_provinces_2 = {
	hidden_effect = {
		[[1]
			if = {
				limit = { always = $1$ }
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
			}
		]
		[[2]
			if = {
				limit = { always = $2$ }
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
			}
		]
		[[3]
			if = {
				limit = { always = $3$ }
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 3
				}
			}
		]
		[[4]
			if = {
				limit = { always = $4$ }
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 3
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 4
				}
			}
		]
		[[5]
			if = {
				limit = { always = $5$ }
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 3
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 4
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 5
				}
			}
		]
		[[10]
			if = {
				limit = { always = $10$ }
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 1
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 2
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 3
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 4
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 5
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 6
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 7
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 8
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 9
				}
				pick_best_province = {
					scale = "$scale$"
					scope = $scope$
					global_trigger = "$global_trigger$"
					event_target_name = "$event_target_name$"
					number = 10
				}
			}
		]
		$scope$ = {
			limit = {
				has_province_flag = $event_target_name$_exclude
			}
			clr_province_flag = $event_target_name$_exclude
		}
	}
}

pick_best_province = {
	$scope$ = {
		limit = {
			[[global_trigger] $global_trigger$ ]
			NOT = { has_province_flag = $event_target_name$_exclude }
		}
		save_event_target_as = $event_target_name$_$number$
	}
	$scope$ = {
		limit = {
			[[global_trigger] $global_trigger$ ]
			$scale$ = event_target:$event_target_name$_$number$
			NOT = { has_province_flag = $event_target_name$_exclude }
		}
		save_event_target_as = $event_target_name$_$number$
	}
	event_target:$event_target_name$_$number$ = {
		set_province_flag = $event_target_name$_exclude
	}
}
#####
# FOR LOOP
# Executes the $effect$ $amount$ of times.
# for = {
#	amount = 5
#	effect = "
#	random_owned_province = {
#		add_base_tax = 1
#	}
#	"
# }
#####


for = {
	set_variable = {
		which = ForLoopCounter
		value = $amount$
	}

	while = {
		limit = {
			check_variable = {
				which = ForLoopCounter
				value = 1
			}
		}
		$effect$
		subtract_variable = {
			which = ForLoopCounter
			value = 1
		}
	}
}

######
# Define Foreign Advisor
# Automates the process of defining an advisor's culture and religion based on a foreign province
# Accepts the regular variables of define_advisor + uses province IDs for culture and religion variables
# define_foreign_advisor = {
#	type = recruit_master etc. optional
#	skill = 3 etc. optional
# 	name = "Giovanni Battista" optional
#	cost_multiplier = 0.25 optional
#	culture = province_id of origin
#	religion = province_id of origin
#	female = no optional
# }
#########

define_foreign_advisor = {
	hidden_effect = {
		export_to_variable = {
			which = cultureOrigin
			value = culture
			[[culture] who = $culture$ ]
		}
		export_to_variable = {
			which = religionOrigin
			value = religion
			[[religion] who = $religion$ ]
		}
		define_advisor = {
			[[type] type = $type$ ]
			[[name] name = "$name$" ]
			[[skill] skill = $skill$ ]
			culture = variable:cultureOrigin
			religion = variable:religionOrigin
			[[cost_multiplier] cost_multiplier = $cost_multiplier$ ]
			[[female] female = $female$ ]
		}
	}
	tooltip = {
		define_advisor = {
			[[type] type = $type$ ]
			[[name] name = "$name$" ]
			[[skill] skill = $skill$ ]
			[[cost_multiplier] cost_multiplier = $cost_multiplier$ ]
			[[female] female = $female$ ]
		}
	}
	$culture$ = {
		$religion$ = {
			custom_tooltip = ME_advisor_originates_from_PREV_THIS
		}
	}
}

#########
# add_mana_scaled_on_monarch_skill = yes
add_mana_scaled_on_monarch_skill = {
	custom_tooltip = ME_ADD_MANA_TT
	if = {
		limit = { ADM = 6 }
		add_adm_power = 120
	}
	else_if = {
		limit = { ADM = 5 }
		add_adm_power = 100
	}
	else_if = {
		limit = { ADM = 4 }
		add_adm_power = 80
	}
	else_if = {
		limit = { ADM = 3 }
		add_adm_power = 60
	}
	else_if = {
		limit = { ADM = 2 }
		add_adm_power = 40
	}
	else = {
		add_adm_power = 20
	}
	if = {
		limit = { DIP = 6 }
		add_dip_power = 120
	}
	else_if = {
		limit = { DIP = 5 }
		add_dip_power = 100
	}
	else_if = {
		limit = { DIP = 4 }
		add_dip_power = 80
	}
	else_if = {
		limit = { DIP = 3 }
		add_dip_power = 60
	}
	else_if = {
		limit = { DIP = 2 }
		add_dip_power = 40
	}
	else = {
		add_dip_power = 20
	}
	if = {
		limit = { MIL = 6 }
		add_mil_power = 120
	}
	else_if = {
		limit = { MIL = 5 }
		add_mil_power = 100
	}
	else_if = {
		limit = { MIL = 4 }
		add_mil_power = 80
	}
	else_if = {
		limit = { MIL = 3 }
		add_mil_power = 60
	}
	else_if = {
		limit = { MIL = 2 }
		add_mil_power = 40
	}
	else = {
		add_mil_power = 20
	}
}

#add_mana_scaled_on_monthly_monarch_power = yes
add_mana_scaled_on_monthly_monarch_power = {
	custom_tooltip = ME_ADD_MANA_MONTHLY_TT
	if = {
		limit = { monthly_adm = 17 }
		add_adm_power = 120
	}
	else_if = {
		limit = { monthly_adm = 14 }
		add_adm_power = 100
	}
	else_if = {
		limit = { monthly_adm = 11 }
		add_adm_power = 80
	}
	else_if = {
		limit = { monthly_adm = 8 }
		add_adm_power = 60
	}
	else_if = {
		limit = { monthly_adm = 5 }
		add_adm_power = 40
	}
	else = {
		add_adm_power = 20
	}
	if = {
		limit = { monthly_dip = 17 }
		add_dip_power = 120
	}
	else_if = {
		limit = { monthly_dip = 14 }
		add_dip_power = 100
	}
	else_if = {
		limit = { monthly_dip = 11 }
		add_dip_power = 80
	}
	else_if = {
		limit = { monthly_dip = 8 }
		add_dip_power = 60
	}
	else_if = {
		limit = { monthly_dip = 5 }
		add_dip_power = 40
	}
	else = {
		add_dip_power = 20
	}
	if = {
		limit = { monthly_mil = 17 }
		add_mil_power = 120
	}
	else_if = {
		limit = { monthly_mil = 14 }
		add_mil_power = 100
	}
	else_if = {
		limit = { monthly_mil = 11 }
		add_mil_power = 80
	}
	else_if = {
		limit = { monthly_mil = 8 }
		add_mil_power = 60
	}
	else_if = {
		limit = { monthly_mil = 5 }
		add_mil_power = 40
	}
	else = {
		add_mil_power = 20
	}
}

change_national_focus_effect = {
	if = {
		limit = {
			OR = {
				has_dlc = "Res Publica"
				has_dlc = "Common Sense"
			}
		}
		custom_tooltip = ME_CHANGE_NATIONAL_FOCUS_TT
		hidden_effect = {
			country_event = { id = missions_expanded_events.2 }
		}
	}
}

set_defender_of_the_faith_effect = {
	if = {
		limit = {
			OR = {
				religion_group = christian
				religion_group = muslim
			}
		}
		custom_tooltip = ME_SET_DEFENDER_OF_FAITH_TT
		hidden_effect = {
			country_event = { id = missions_expanded_events.4 }
		}
	}
}

create_general_with_pips = {
	create_general = {
		tradition = $tradition$
		add_fire = $add_fire$
		add_shock = $add_shock$
		add_manuever = $add_manuever$
		add_siege = $add_siege$
		[[name] name = $name$ ]
		[[culture] culture = $culture$ ]
	}
	custom_tooltip = ME_GENERAL_$add_fire$_$add_shock$_$add_manuever$_$add_siege$
}

ME_give_province_claims = {
	$id$ = {
		if = {
			limit = {
				NOT = { is_core = $tag$ }
				NOT = { is_permanent_claim = $tag$ }
			}
			add_permanent_claim = $tag$
		}
	}
}

ME_give_area_claims = {
	$group$ = {
		limit = {
			NOT = { is_core = $tag$ }
			NOT = { is_permanent_claim = $tag$ }
		}
		add_permanent_claim = $tag$
	}
}

ME_give_claims = {
	[[province]
		ME_give_province_claims = { id = $province$ tag = ROOT }
	]
	[[id]
		ME_give_province_claims = { id = $id$ tag = ROOT }
	]
	[[area]
		ME_give_area_claims = { group = $area$ tag = ROOT }
	]
	[[region]
		ME_give_area_claims = { group = $region$ tag = ROOT }
	]

}

ME_add_years_of_trade_income = {
	[[years] add_years_of_trade_income = { years = $years$ custom_tooltip = ME_add_$years$_years_of_trade_income } ]
	[[value] add_years_of_trade_income = { years = $value$ custom_tooltip = ME_add_$value$_years_of_trade_income } ]
	[[amount] add_years_of_trade_income = { years = $amount$ custom_tooltip = ME_add_$amount$_years_of_trade_income } ]
}

add_positive_or_negative_piety = {
	if = {
		limit = {
			piety = 0
		}
		add_piety = $amount$
	}
	else = {
		add_piety = -$amount$
	}
}

ME_technology_split_120_power = { #placeholder, I will put the implementation here later!
}

#tag = { ME_add_to_empire = yes }
ME_add_to_empire = {
	#custom_tooltip = ME_join_the_empire
	if = {
		limit = {
			capital_scope = {
				continent = europe #In case their capital is not in Europe
			}
		}
		tooltip = {
			set_in_empire = yes
		}

		hidden_effect = {
			every_owned_province = {
				limit = {
					continent = europe
				}
				set_in_empire = yes
			}
			set_country_flag = reined_in_for_shadow_kingdom #in case that happens
		}
	}
}

# ME_distribute_development = {
#	type = x //The 3 development types. E.G. type = production
#	amount = x //How many development to add. E.G amount = 10
#	limit = " " OPTIONAL //takes actual triggers. E.G. limit = " NOT = { culture = ROOT } "
#}
ME_distribute_development = {
	hidden_effect = {
		set_variable = {
			which = ME_$type$_loop
			value = 0
		}
		while = {
			limit = {
				NOT = {
					check_variable = {
						which = ME_$type$_loop
						value = $amount$
					}
				}
			}
			random_owned_province = {
				limit = {
					[[limit] $limit$ ]
				}
				add_base_$type$ = 1
			}
			change_variable = {
				which = ME_$type$_loop
				value = 1
			}
		}
	}
	custom_tooltip = $type$_$amount$
}

# ME_remove_development_distributed = {
#	type = x //The 3 development types. E.G. type = production
#	amount = x //How many development to add. E.G amount = 10
#	limit = " " OPTIONAL //takes actual triggers. E.G. limit = " NOT = { culture = ROOT } "
#}
ME_remove_development_distributed = {
	hidden_effect = {
		set_variable = {
			which = ME_$type$_loop
			value = 0
		}
		while = {
			limit = {
				NOT = {
					check_variable = {
						which = ME_$type$_loop
						value = $amount$
					}
				}
			}
			random_owned_province = {
				limit = {
					[[limit] $limit$ ]
					base_$type$ = 2 #In case the province has 1 development of that type
				}
				add_base_$type$ = -1
			}
			change_variable = {
				which = ME_$type$_loop
				value = 1
			}
		}
	}
	custom_tooltip = remove_$type$_$amount$
}

#ME_country_event_delay = { id = x }
#Done for some small flavor
#Will let Stiopa make the final verdict
#ME_country_event_delay = {
#	hidden_effect = {
#		country_event = { id = $id$ days = 1 }
#	}
#	tooltip = {
#		country_event = { id = $id$ }
#	}
#}

# Scaling modifier to change yearly corruption depending on Jann percentage
# me_change_janissary_corruption = yes
me_change_janissary_corruption = {
	me_remove_current_janissary_corruption = yes
    if = {
        limit = {
            janissary_percentage = 0.01
        }
        add_country_modifier = {
            name = janissary_corruption1
            duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.02
       }
        add_country_modifier = {
            name = janissary_corruption2
            duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.03
       }
        add_country_modifier = {
            name = janissary_corruption3
            duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.04
    	}
        add_country_modifier = {
            name = janissary_corruption4
            duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.05
        }
        add_country_modifier = {
             name = janissary_corruption5
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.06
       }
        add_country_modifier = {
             name = janissary_corruption6
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.07
       }
        add_country_modifier = {
             name = janissary_corruption7
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.08
       }
        add_country_modifier = {
             name = janissary_corruption8
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.09
       }
        add_country_modifier = {
             name = janissary_corruption9
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.1
       }
        add_country_modifier = {
             name = janissary_corruption10
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.11
       }
        add_country_modifier = {
             name = janissary_corruption11
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.12
       }
        add_country_modifier = {
             name = janissary_corruption12
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.13
       }
        add_country_modifier = {
             name = janissary_corruption13
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.14
       }
        add_country_modifier = {
             name = janissary_corruption14
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.15
       }
        add_country_modifier = {
             name = janissary_corruption15
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.16
       }
        add_country_modifier = {
             name = janissary_corruption16
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.17
       }
        add_country_modifier = {
             name = janissary_corruption17
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.18
       }
        add_country_modifier = {
             name = janissary_corruption18
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.19
       }
        add_country_modifier = {
             name = janissary_corruption19
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.2
       }
        add_country_modifier = {
             name = janissary_corruption20
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.21
       }
        add_country_modifier = {
             name = janissary_corruption21
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.22
       }
        add_country_modifier = {
             name = janissary_corruption22
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.23
       }
        add_country_modifier = {
             name = janissary_corruption23
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.24
       }
        add_country_modifier = {
             name = janissary_corruption24
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.25
       }
        add_country_modifier = {
             name = janissary_corruption25
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.26
       }
        add_country_modifier = {
             name = janissary_corruption26
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.27
       }
        add_country_modifier = {
             name = janissary_corruption27
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.28
       }
        add_country_modifier = {
             name = janissary_corruption28
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.29
       }
        add_country_modifier = {
             name = janissary_corruption29
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.3
       }
        add_country_modifier = {
             name = janissary_corruption30
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.31
       }
        add_country_modifier = {
             name = janissary_corruption31
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.32
       }
        add_country_modifier = {
             name = janissary_corruption32
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.33
       }
        add_country_modifier = {
             name = janissary_corruption33
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.34
       }
        add_country_modifier = {
             name = janissary_corruption34
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.35
       }
        add_country_modifier = {
             name = janissary_corruption35
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.36
       }
        add_country_modifier = {
             name = janissary_corruption36
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.37
       }
        add_country_modifier = {
             name = janissary_corruption37
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.38
       }
        add_country_modifier = {
             name = janissary_corruption38
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.39
       }
        add_country_modifier = {
             name = janissary_corruption39
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.4
       }
        add_country_modifier = {
             name = janissary_corruption40
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.41
       }
        add_country_modifier = {
             name = janissary_corruption41
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.42
       }
        add_country_modifier = {
             name = janissary_corruption42
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.43
       }
        add_country_modifier = {
             name = janissary_corruption43
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.44
       }
        add_country_modifier = {
             name = janissary_corruption44
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.45
       }
        add_country_modifier = {
             name = janissary_corruption45
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.46
       }
        add_country_modifier = {
             name = janissary_corruption46
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.47
       }
        add_country_modifier = {
             name = janissary_corruption47
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.48
       }
        add_country_modifier = {
             name = janissary_corruption48
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.49
       }
        add_country_modifier = {
             name = janissary_corruption49
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.5
       }
        add_country_modifier = {
             name = janissary_corruption50
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.51
       }
        add_country_modifier = {
             name = janissary_corruption51
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.52
       }
        add_country_modifier = {
             name = janissary_corruption52
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.53
       }
        add_country_modifier = {
             name = janissary_corruption53
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.54
       }
        add_country_modifier = {
             name = janissary_corruption54
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.55
       }
        add_country_modifier = {
             name = janissary_corruption55
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.56
       }
        add_country_modifier = {
             name = janissary_corruption56
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.57
       }
        add_country_modifier = {
             name = janissary_corruption57
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.58
       }
        add_country_modifier = {
             name = janissary_corruption58
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.59
       }
        add_country_modifier = {
             name = janissary_corruption59
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.6
       }
        add_country_modifier = {
             name = janissary_corruption60
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.61
       }
        add_country_modifier = {
             name = janissary_corruption61
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.62
       }
        add_country_modifier = {
             name = janissary_corruption62
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.63
       }
        add_country_modifier = {
             name = janissary_corruption63
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.64
       }
        add_country_modifier = {
             name = janissary_corruption64
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.65
       }
        add_country_modifier = {
             name = janissary_corruption65
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.66
       }
        add_country_modifier = {
             name = janissary_corruption66
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.67
       }
        add_country_modifier = {
             name = janissary_corruption67
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.68
       }
        add_country_modifier = {
             name = janissary_corruption68
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.69
       }
        add_country_modifier = {
             name = janissary_corruption69
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.7
       }
        add_country_modifier = {
             name = janissary_corruption70
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.71
       }
        add_country_modifier = {
             name = janissary_corruption71
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.72
       }
        add_country_modifier = {
             name = janissary_corruption72
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.73
       }
        add_country_modifier = {
             name = janissary_corruption73
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.74
       }
        add_country_modifier = {
             name = janissary_corruption74
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.75
       }
        add_country_modifier = {
             name = janissary_corruption75
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.76
       }
        add_country_modifier = {
             name = janissary_corruption76
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.77
       }
        add_country_modifier = {
             name = janissary_corruption77
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.78
       }
        add_country_modifier = {
             name = janissary_corruption78
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.79
       }
        add_country_modifier = {
             name = janissary_corruption79
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.8
       }
        add_country_modifier = {
             name = janissary_corruption80
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.81
       }
        add_country_modifier = {
             name = janissary_corruption81
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.82
       }
        add_country_modifier = {
             name = janissary_corruption82
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.83
       }
        add_country_modifier = {
             name = janissary_corruption83
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.84
       }
        add_country_modifier = {
             name = janissary_corruption84
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.85
       }
        add_country_modifier = {
             name = janissary_corruption85
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.86
       }
        add_country_modifier = {
             name = janissary_corruption86
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.87
       }
        add_country_modifier = {
             name = janissary_corruption87
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.88
       }
        add_country_modifier = {
             name = janissary_corruption88
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.89
       }
        add_country_modifier = {
             name = janissary_corruption89
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.9
       }
        add_country_modifier = {
             name = janissary_corruption90
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.91
       }
        add_country_modifier = {
             name = janissary_corruption91
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.92
       }
        add_country_modifier = {
             name = janissary_corruption92
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.93
       }
        add_country_modifier = {
             name = janissary_corruption93
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.94
       }
        add_country_modifier = {
             name = janissary_corruption94
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.95
       }
        add_country_modifier = {
             name = janissary_corruption95
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.96
       }
        add_country_modifier = {
             name = janissary_corruption96
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.97
       }
        add_country_modifier = {
             name = janissary_corruption97
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.98
       }
        add_country_modifier = {
             name = janissary_corruption98
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 0.99
       }
        add_country_modifier = {
             name = janissary_corruption99
             duration = -1
        }
    }
    if = {
        limit = {
            janissary_percentage = 1.0
       }
        add_country_modifier = {
             name = janissary_corruption100
             duration = -1
        }
    }
}
# me_remove_current_janissary_corruption = yes
me_remove_current_janissary_corruption = {
	remove_country_modifier = janissary_corruption1
	remove_country_modifier = janissary_corruption2
	remove_country_modifier = janissary_corruption3
	remove_country_modifier = janissary_corruption4
	remove_country_modifier = janissary_corruption5
	remove_country_modifier = janissary_corruption6
	remove_country_modifier = janissary_corruption7
	remove_country_modifier = janissary_corruption8
	remove_country_modifier = janissary_corruption9
	remove_country_modifier = janissary_corruption10
	remove_country_modifier = janissary_corruption11
	remove_country_modifier = janissary_corruption12
	remove_country_modifier = janissary_corruption13
	remove_country_modifier = janissary_corruption14
	remove_country_modifier = janissary_corruption15
	remove_country_modifier = janissary_corruption16
	remove_country_modifier = janissary_corruption17
	remove_country_modifier = janissary_corruption18
	remove_country_modifier = janissary_corruption19
	remove_country_modifier = janissary_corruption20
	remove_country_modifier = janissary_corruption21
	remove_country_modifier = janissary_corruption22
	remove_country_modifier = janissary_corruption23
	remove_country_modifier = janissary_corruption24
	remove_country_modifier = janissary_corruption25
	remove_country_modifier = janissary_corruption26
	remove_country_modifier = janissary_corruption27
	remove_country_modifier = janissary_corruption28
	remove_country_modifier = janissary_corruption29
	remove_country_modifier = janissary_corruption30
	remove_country_modifier = janissary_corruption31
	remove_country_modifier = janissary_corruption32
	remove_country_modifier = janissary_corruption33
	remove_country_modifier = janissary_corruption34
	remove_country_modifier = janissary_corruption35
	remove_country_modifier = janissary_corruption36
	remove_country_modifier = janissary_corruption37
	remove_country_modifier = janissary_corruption38
	remove_country_modifier = janissary_corruption39
	remove_country_modifier = janissary_corruption40
	remove_country_modifier = janissary_corruption41
	remove_country_modifier = janissary_corruption42
	remove_country_modifier = janissary_corruption43
	remove_country_modifier = janissary_corruption44
	remove_country_modifier = janissary_corruption45
	remove_country_modifier = janissary_corruption46
	remove_country_modifier = janissary_corruption47
	remove_country_modifier = janissary_corruption48
	remove_country_modifier = janissary_corruption49
	remove_country_modifier = janissary_corruption50
	remove_country_modifier = janissary_corruption51
	remove_country_modifier = janissary_corruption52
	remove_country_modifier = janissary_corruption53
	remove_country_modifier = janissary_corruption54
	remove_country_modifier = janissary_corruption55
	remove_country_modifier = janissary_corruption56
	remove_country_modifier = janissary_corruption57
	remove_country_modifier = janissary_corruption58
	remove_country_modifier = janissary_corruption59
	remove_country_modifier = janissary_corruption60
	remove_country_modifier = janissary_corruption61
	remove_country_modifier = janissary_corruption62
	remove_country_modifier = janissary_corruption63
	remove_country_modifier = janissary_corruption64
	remove_country_modifier = janissary_corruption65
	remove_country_modifier = janissary_corruption66
	remove_country_modifier = janissary_corruption67
	remove_country_modifier = janissary_corruption68
	remove_country_modifier = janissary_corruption69
	remove_country_modifier = janissary_corruption70
	remove_country_modifier = janissary_corruption71
	remove_country_modifier = janissary_corruption72
	remove_country_modifier = janissary_corruption73
	remove_country_modifier = janissary_corruption74
	remove_country_modifier = janissary_corruption75
	remove_country_modifier = janissary_corruption76
	remove_country_modifier = janissary_corruption77
	remove_country_modifier = janissary_corruption78
	remove_country_modifier = janissary_corruption79
	remove_country_modifier = janissary_corruption80
	remove_country_modifier = janissary_corruption81
	remove_country_modifier = janissary_corruption82
	remove_country_modifier = janissary_corruption83
	remove_country_modifier = janissary_corruption84
	remove_country_modifier = janissary_corruption85
	remove_country_modifier = janissary_corruption86
	remove_country_modifier = janissary_corruption87
	remove_country_modifier = janissary_corruption88
	remove_country_modifier = janissary_corruption89
	remove_country_modifier = janissary_corruption90
	remove_country_modifier = janissary_corruption91
	remove_country_modifier = janissary_corruption92
	remove_country_modifier = janissary_corruption93
	remove_country_modifier = janissary_corruption94
	remove_country_modifier = janissary_corruption95
	remove_country_modifier = janissary_corruption96
	remove_country_modifier = janissary_corruption97
	remove_country_modifier = janissary_corruption98
	remove_country_modifier = janissary_corruption99
	remove_country_modifier = janissary_corruption100
}