create_silk_route_outpost = {
	custom_tooltip = Silk_Route_make_a_kontor
	hidden_effect = {
		add_province_triggered_modifier = Silk_Route_kontor
		add_permanent_province_modifier = {
			name = Silk_Route_icon_gray
			duration = -1
			hidden = yes
		}
		clr_province_flag = Silk_Route_activated
		set_province_flag = Silk_Route_deactivated
	}
}

upgrade_silk_route_outpost = {
	custom_tooltip = Silk_Route_upgrade_kontor
	hidden_effect = {
		set_province_flag = Silk_Route_upgraded
		if = {
			limit = {
				has_trade_modifier = {
					who = event_target:target_SILK_ROUTE
					key = Silk_Route_ties
				}
			}
			remove_trade_modifier = {
				who = event_target:target_SILK_ROUTE
				key = Silk_Route_ties
			}
			add_trade_modifier = {
				who = event_target:target_SILK_ROUTE
				duration = -1
				power = 30
				key = Silk_Route_ties
			}
		}
	}
}

remove_silk_route_outpost = {
	custom_tooltip = Silk_Route_benefits_of_outpost
	hidden_effect = {
		remove_province_triggered_modifier = Silk_Route_kontor
		remove_province_modifier = Silk_Route_icon_gray
		remove_province_modifier = Silk_Route_icon
	}
}

destroy_silk_route_outpost = {
	remove_province_triggered_modifier = Silk_Route_kontor
	remove_province_modifier = Silk_Route_icon_gray
	remove_province_modifier = Silk_Route_icon
	if = {
		limit = {
			has_trade_modifier = {
				who = event_target:target_SILK_ROUTE
				key = Silk_Route_ties
			}
		}
		remove_trade_modifier = {
			who = event_target:target_SILK_ROUTE
			key = Silk_Route_ties
		}
	}
	clr_province_flag = Silk_Route_upgraded
	clr_province_flag = Silk_Route_deactivated
	clr_province_flag = Silk_Route_activated
}