namespace = ME_Persia_Events

#Persian Domination over India
country_event = {
	id = ME_Persia_Events.1
	title = ME_Persia_Events.1.T
	desc = ME_Persia_Events.1.D
	picture = GOOD_WITH_MONARCH_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.1.OPT1

		hindusthan_region = {
			limit = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
				NOT = { is_empty = yes }
			}
			add_permanent_claim = ROOT
		}
		west_india_region = {
			limit = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
				NOT = { is_empty = yes }
			}
			add_permanent_claim = ROOT
		}
	}

	option = {
		name = ME_Persia_Events.1.OPT2

		trigger = {
			OR = {
				has_dlc = "Leviathan" #I don't actually know the DLCs
			}
		}

	}
}

#The Old Faiths
country_event = {
	id = ME_Persia_Events.2
	title = ME_Persia_Events.2.T
	desc = ME_Persia_Events.2.D
	picture = RELIGIOUS_TURMOIL_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.2.OPT1

		change_religion = zoroastrian
		if = {
			limit = {
				OR = {
					owns = 424
					424 = {
						owner = { ai = yes }
					}
				}
			}
			424 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 2220
					2220 = {
						owner = { ai = yes }
					}
				}
			}
			2220 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 434
					434 = {
						owner = { ai = yes }
					}
				}
			}
			434 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 2218
					2218 = {
						owner = { ai = yes }
					}
				}
			}
			2218 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 4171
					4171 = {
						owner = { ai = yes }
					}
				}
			}
			4171 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 330
					330 = {
						owner = { ai = yes }
					}
				}
			}
			330 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 446
					446 = {
						owner = { ai = yes }
					}
				}
			}
			446 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 450
					450 = {
						owner = { ai = yes }
					}
				}
			}
			450 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 2206
					2206 = {
						owner = { ai = yes }
					}
				}
			}
			2206 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 4341
					4341 = {
						owner = { ai = yes }
					}
				}
			}
			4341 = {
				change_religion = zoroastrian
			}
		}
		if = {
			limit = {
				OR = {
					owns = 433
					433 = {
						owner = { ai = yes }
					}
				}
			}
			433 = {
				change_religion = zoroastrian
			}
		}
	}

	option = {
		name = ME_Persia_Events.2.OPT2

		add_stability_or_adm_power = yes
	}
}

#Expanding Qurchi corp?
country_event = {
	id = ME_Persia_Events.3
	title = ME_Persia_Events.3.T
	desc = ME_Persia_Events.3.D
	picture = 	GENERALS_DISCUSSING_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.3.OPT1

		add_country_modifier = {
			name = persia_reformed_qurchi
			duration = -1
		}
	}

	option = {
		name = ME_Persia_Events.3.OPT2

		add_country_modifier = {
			name = persia_grateful_army
			duration = 7300
		}
	}
}

#Mediterranean Trade
country_event = {
	id = ME_Persia_Events.4
	title = ME_Persia_Events.4.T
	desc = ME_Persia_Events.4.D
	picture = TRADEGOODS_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.4.OPT1

		add_dip_power = 100
		add_mercantilism = 5
		define_advisor = {
			type = trader
			skill = 2
			cost_multiplier = 0.5
			religion = ROOT
			culture = ROOT
		}
	}

	option = {
		name = ME_Persia_Events.4.OPT2

		add_country_modifier = {
			name = persia_venetian_trade_partner
			duration = 36500
		}
		112 = {
			owner = {
				set_country_flag = persia_venetian_trade_flag
				add_country_modifier = {
					name = persia_new_silk_road_trade
					duration = 36500
				}
			}
		}
	}

	option = {
		name = ME_Persia_Events.4.OPT3

		add_country_modifier = {
			name = persia_genoese_trade_partner
			duration = 36500
		}
		101 = {
			owner = {
				set_country_flag = persia_genoese_trade_flag
				add_country_modifier = {
					name = persia_new_silk_road_trade
					duration = 36500
				}
			}
		}
	}

	option = {
		name = ME_Persia_Events.4.OPT4

		add_country_modifier = {
			name = persia_iberian_trade_partner
			duration = 36500
		}
		220 = {
			owner = {
				set_country_flag = persia_iberian_trade_flag
				add_country_modifier = {
					name = persia_new_silk_road_trade
					duration = 36500
				}
			}
		}
	}
}

#The Question of Priorities
country_event = {
	id = ME_Persia_Events.5
	title = ME_Persia_Events.5.T
	desc = ME_Persia_Events.5.D
	picture = TRADEGOODS_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.5.OPT1
		trigger = {
			any_country = {
				has_country_flag = persia_venetian_trade_flag
				has_country_flag = persia_genoese_trade_flag
				has_country_flag = persia_iberian_trade_flag
			}
		}

		add_country_modifier = {
			name = persia_mediterranean_focus
			duration = -1
		}
		random_country = {
			if = {
				limit = { has_country_flag = persia_venetian_trade_flag }
				add_country_modifier = {
					name = persia_new_silk_road_trade
					duration = -1
				}
				add_opinion = {
					who = ROOT
					modifier = persia_prioritise
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = persia_prioritise
				}
			}
			else_if = {
				limit = { has_country_flag = persia_genoese_trade_flag }
				add_country_modifier = {
					name = persia_new_silk_road_trade
					duration = -1
				}
				add_opinion = {
					who = ROOT
					modifier = persia_prioritise
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = persia_prioritise
				}
			}
			else = {
				add_opinion = {
					who = ROOT
					modifier = persia_prioritise
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = persia_prioritise
				}
				add_country_modifier = {
					name = persia_new_silk_road_trade
					duration = -1
				}
			}
		}
	}

	option = {
		name = ME_Persia_Events.5.OPT2

		add_country_modifier = {
			name = persia_brave_new_trade
			duration = -1
		}
		if = {
			limit = { has_country_modifier = persia_venetian_trade_partner }
			remove_country_modifier = persia_venetian_trade_partner
		}
		if = {
			limit = { has_country_modifier = persia_genoese_trade_partner }
			remove_country_modifier = persia_genoese_trade_partner
		}
		if = {
			limit = { has_country_modifier = persia_iberian_trade_partner }
			remove_country_modifier = persia_iberian_trade_partner
		}
		if = {
			limit = {
				any_country = {
					has_country_flag = persia_venetian_trade_flag
					has_country_flag = persia_genoese_trade_flag
					has_country_flag = persia_iberian_trade_flag
				}
			}
		}
		random_country = {
			if = {
				limit = { has_country_flag = persia_venetian_trade_flag }
				remove_country_modifier = persia_new_silk_road_trade
				add_opinion = {
					who = ROOT
					modifier = persia_flexible
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = persia_flexible
				}
			}
			if = {
				limit = { has_country_flag = persia_genoese_trade_flag }
				remove_country_modifier = persia_new_silk_road_trade
				add_opinion = {
					who = ROOT
					modifier = persia_flexible
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = persia_flexible
				}
			}
			if = {
				limit = { has_country_flag = persia_iberian_trade_flag }
				remove_country_modifier = persia_new_silk_road_trade
				add_opinion = {
					who = ROOT
					modifier = persia_flexible
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = persia_flexible
				}
			}
		}
	}
}

#Assimilation of Turkmeni
country_event = {
	id = ME_Persia_Events.6
	title = ME_Persia_Events.6.T
	desc = ME_Persia_Events.6.D
	picture = CULTURE_eventPicture

	mean_time_to_happen = {
		months = 90
	}

	trigger = {
		tag = PER
		mission_completed = persia_persian_renaissance
		any_owned_province = {
			culture = turkmeni
			any_neighbor_province = {
				owned_by = ROOT
				culture_group = iranian
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owned_by = ROOT
						culture_group = iranian
					}
					culture = turkmeni
				}
				save_event_target_as = persia_turkmeni_province_assimilated
			}
		}
	}

	goto = persia_turkmeni_province_assimilated

	option = {
		name = ME_Persia_Events.6.OPT1

		event_target:persia_turkmeni_province_assimilated = {
			change_culture = khwarezmians
		}
	}
}

#Assimilation of uzbehk
country_event = {
	id = ME_Persia_Events.7
	title = ME_Persia_Events.7.T
	desc = ME_Persia_Events.7.D
	picture = CULTURE_eventPicture

	mean_time_to_happen = {
		months = 90
	}

	trigger = {
		tag = PER
		mission_completed = persia_persian_renaissance
		any_owned_province = {
			culture = uzbehk
			any_neighbor_province = {
				owned_by = ROOT
				culture_group = iranian
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owned_by = ROOT
						culture_group = iranian
					}
					culture = uzbehk
				}
				save_event_target_as = persia_uzbehk_province_assimilated
			}
		}
	}

	goto = persia_uzbehk_province_assimilated

	option = {
		name = ME_Persia_Events.7.OPT1

		event_target:persia_uzbehk_province_assimilated = {
			change_culture = tajiks
		}
	}
}

#Assimilation of dagestani
country_event = {
	id = ME_Persia_Events.8
	title = ME_Persia_Events.8.T
	desc = ME_Persia_Events.8.D
	picture = CULTURE_eventPicture

	mean_time_to_happen = {
		months = 90
	}

	trigger = {
		tag = PER
		mission_completed = persia_persian_renaissance
		any_owned_province = {
			culture = dagestani
			any_neighbor_province = {
				owned_by = ROOT
				culture_group = iranian
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owned_by = ROOT
						culture_group = iranian
					}
					culture = dagestani
				}
				save_event_target_as = persia_dagestani_province_assimilated
			}
		}
	}

	goto = persia_dagestani_province_assimilated

	option = {
		name = ME_Persia_Events.8.OPT1

		event_target:persia_dagestani_province_assimilated = {
			change_culture = dagestani_PER
		}
	}
}

#Assimilation of al_iraqiya_arabic
country_event = {
	id = ME_Persia_Events.9
	title = ME_Persia_Events.9.T
	desc = ME_Persia_Events.9.D
	picture = CULTURE_eventPicture

	mean_time_to_happen = {
		months = 90
	}

	trigger = {
		tag = PER
		mission_completed = persia_persian_renaissance
		any_owned_province = {
			culture = al_iraqiya_arabic
			any_neighbor_province = {
				owned_by = ROOT
				culture_group = iranian
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owned_by = ROOT
						culture_group = iranian
					}
					culture = al_iraqiya_arabic
				}
				save_event_target_as = persia_al_iraqiya_arabic_province_assimilated
			}
		}
	}

	goto = persia_al_iraqiya_arabic_province_assimilated

	option = {
		name = ME_Persia_Events.9.OPT1

		event_target:persia_al_iraqiya_arabic_province_assimilated = {
			change_culture = al_iraqiya_arabic_PER
		}
	}
}

#Reintroduction of the Elephants
country_event = {
	id = ME_Persia_Events.10
	title = ME_Persia_Events.10.T
	desc = ME_Persia_Events.10.D
	picture = MILITARISTICALLY_TALENTED_RULER_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.10.OPT1

		add_yearly_manpower = 1
		add_years_of_income = 1
		add_country_modifier = {
			name = persia_reintroducion_elephants
			duration = 18250
		}
	}

	option = {
		name = ME_Persia_Events.10.OPT2
		trigger = {
			is_expanded_mod_active = { mod = trade_goods }
		}

		country_event = {
			id = ME_Persia_Events.11
		}
		country_event = {
			id = ME_Persia_Events.12
		}
		country_event = {
			id = ME_Persia_Events.13
		}
	}
}

#Reintroduction of the Elephants in Persia
country_event = {
	id = ME_Persia_Events.11
	title = ME_Persia_Events.11.T
	desc = ME_Persia_Events.11.D
	picture = FARMING_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.11.OPT1
	}

	option = {
		name = ME_Persia_Events.11.OPT2
		trigger = {
			owns = 412
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 412

		412 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.11.OPT3
		trigger = {
			owns = 430
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 430

		430 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.11.OPT4
		trigger = {
			owns = 4332
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 4332

		4332 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.11.OPT5
		trigger = {
			owns = 2219
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 2219

		2219 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.11.OPT6
		trigger = {
			owns = 4319
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 4319

		4319 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.11.OPT7
		trigger = {
			owns = 4327
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 4327

		4327 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.11.OPT8
		trigger = {
			owns = 431
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 431

		431 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}
}

#Reintroduction of the Elephants in Khorasan
country_event = {
	id = ME_Persia_Events.12
	title = ME_Persia_Events.12.T
	desc = ME_Persia_Events.12.D
	picture = FARMING_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.12.OPT1
	}

	option = {
		name = ME_Persia_Events.12.OPT2
		trigger = {
			owns = 2233
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 2233

		2233 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.12.OPT3
		trigger = {
			owns = 575
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 575

		575 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.12.OPT4
		trigger = {
			owns = 2231
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 2231

		2231 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}
}

#Reintroduction of the Elephants in Mesopotamia
country_event = {
	id = ME_Persia_Events.13
	title = ME_Persia_Events.13.T
	desc = ME_Persia_Events.13.D
	picture = FARMING_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.13.OPT1
	}

	option = {
		name = ME_Persia_Events.13.OPT2
		trigger = {
			owns = 406
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 406

		406 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.13.OPT3
		trigger = {
			owns = 2310
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 2310

		2310 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.13.OPT4
		trigger = {
			owns = 409
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 409

		409 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.13.OPT5
		trigger = {
			owns = 410
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 410

		410 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.13.OPT6
		trigger = {
			owns = 4291
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 4291

		4291 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.13.OPT7
		trigger = {
			owns = 2311
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 2311

		2311 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.13.OPT8
		trigger = {
			owns = 2312
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 2312

		2312 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.13.OPT9
		trigger = {
			owns = 4288
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 4288

		4288 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}

	option = {
		name = ME_Persia_Events.13.OPT10
		trigger = {
			owns = 408
			is_expanded_mod_active = { mod = trade_goods }
		}
		goto = 408

		408 = {
			change_trade_goods = elephants
			add_base_manpower = 3
			add_or_upgrade_manpower_building = yes
			add_permanent_province_modifier = {
				name = persia_elephant_barracks
				duration = -1
			}
		}
	}
}

#A Question of Governance
country_event = {
	id = ME_Persia_Events.14
	title = ME_Persia_Events.14.T
	desc = ME_Persia_Events.14.D
	picture = GOOD_WITH_MONARCH_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.14.OPT1

		set_country_flag = persia_choose_ancient
		clr_country_flag = persia_choose_new
		swap_non_generic_missions = yes
	}

	option = {
		name = ME_Persia_Events.14.OPT2

		set_country_flag = persia_choose_new
		clr_country_flag = persia_choose_ancient
		swap_non_generic_missions = yes
	}
}

#The Question of Control
country_event = {
	id = ME_Persia_Events.15
	title = ME_Persia_Events.15.T
	desc = ME_Persia_Events.15.D
	picture = GOOD_WITH_MONARCH_eventPicture

	is_triggered_only = yes

	option = {
		name = ME_Persia_Events.15.OPT1
		trigger = {
			NOT = { exists = YEM }
		}

		release = YEM
		mahra_area = {
			add_core = YEM
			cede_province = YEM
		}
		dhofar_area = {
			add_core = YEM
			cede_province = YEM
		}
		hadramut_area = {
			add_core = YEM
			cede_province = YEM
		}
		yemen_area = {
			add_core = YEM
			cede_province = YEM
		}
		upper_yemen_area = {
			add_core = YEM
			cede_province = YEM
		}
		tihama_al_yemen_area = {
			add_core = YEM
			cede_province = YEM
		}
		if = {
			limit = {
				is_expanded_mod_active = { mod = subjects }
			}
			create_subject = {
				subject_type = persian_satrapy
				subject = YEM
			}
		}
		else = { vassalize = YEM }
		hidden_effect = {
			YEM = {
				add_treasury = 150
				add_manpower = 5
				capital_scope = {
					build_to_forcelimit = {
						infantry = 0.8
						cavalry = 0.15
						artillery = 0.05
					}
				}
			}
		}
	}

	option = {
		name = ME_Persia_Events.15.OPT2

		add_prestige_or_monarch_power = { amount = 10 }
	}
}