namespace = ME_Bohemia_Event

#Better in Our Hands#
country_event = {
	id = ME_Bohemia_Event.1
	title = ME_Bohemia_Event.1.T
	desc = ME_Bohemia_Event.1.D
	picture = TRADE_GOODS_METALS_AND_MINING_EQUIPENT_eventPicture
    is_triggered_only = yes
    option = {
        name = ME_Bohemia_Event.1.OPT1
		2965 = {
			change_trade_goods = iron
		}
        
    }
    option = {
		name = ME_Bohemia_Event.1.OPT2
		add_prestige = 5
	}
}

#A King for Bohemia#
country_event = {
	id = ME_Bohemia_Event.2
	title = ME_Bohemia_Event.2.T
	desc = ME_Bohemia_Event.2.D
	picture = NEW_HEIR_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.2.OPT1
       	set_country_flag = czech_habsburg
		custom_tooltip = boh_decision_major
		if = {
			limit = {
				has_heir = yes
			}
			kill_heir = {}
		}
		if = {
			limit = {
				has_ruler = yes
			}
			kill_ruler = yes
		}
       	define_ruler = {
			dynasty = "von Habsburg"
			adm = 2
            dip = 3
            mil = 1
            age = 26
            claim = 95
    	}	
	}
    option = {
        name = ME_Bohemia_Event.2.OPT2
        set_country_flag = czech_jagiellon
		custom_tooltip = boh_decision_major
		if = {
			limit = {
				has_heir = yes
			}
			kill_heir = {}
		}
		if = {
			limit = {
				has_ruler = yes
			}
			kill_ruler = yes
		}
		define_ruler = {
			dynasty = "Jagiellon"
        	adm = 2
        	dip = 2
        	mil = 4
	    	age = 26
			claim = 95
        }
    }
    option = {
        name = ME_Bohemia_Event.2.OPT3
        set_country_flag = czech_podebrad
		custom_tooltip = boh_decision_major
		if = {
			limit = {
				has_heir = yes
			}
			kill_heir = {}
		}
		if = {
			limit = {
				has_ruler = yes
			}
			kill_ruler = yes
		}
    	define_ruler = {
			dynasty = "z Podebrad"
        	adm = 3
        	dip = 3
    		mil = 2
   		 	age = 26
	    	claim = 95
        }
    }
}

#Hidden event to remove imperial ambition modifier#	
country_event = {
	id = ME_Bohemia_Event.3
	title = ME_Bohemia_Event.3.T
	desc = ME_Bohemia_Event.3.D
	picture = TRADE_GOODS_METALS_AND_MINING_EQUIPENT_eventPicture
	hidden = yes
	trigger = {
		has_country_flag = czech_habsburg
		mission_completed = boh_rise_lion
		is_emperor = yes
	}
	option = {
		name = ME_Bohemia_Event.3.OPT1
		remove_country_modifier = boh_imperial_ambition
	}
}

#Silesian Fealthy#
country_event = {
	id = ME_Bohemia_Event.4
	title = ME_Bohemia_Event.4.T
	desc = ME_Bohemia_Event.4.D
	picture = TRADE_GOODS_METALS_AND_MINING_EQUIPENT_eventPicture
	major = yes
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.4.OPT1
		ai_chance = { factor = 0.9 }
		264 = {
			if = {
				limit = {
					owned_by = ROOT 
				}			
				cede_province = FROM
				add_core = FROM
				add_local_autonomy = 50
			}
		}
		4723 = {
			if = {
				limit = {
					owned_by = ROOT 
				}			
				cede_province = FROM
				add_core = FROM
				add_local_autonomy = 50
			}
		}
		263 = {
			if = {
				limit = {
					owned_by = ROOT 
				}			
				cede_province = FROM
				add_core = FROM
				add_local_autonomy = 50
			}
		}
	}
	option = {
		name = ME_Bohemia_Event.4.OPT2
		ai_chance = { factor = 0.1 }
		add_liberty_desire = 20
		add_mil_power = 100
	}
}

#Silesian Fealthy#
country_event = {
	id = ME_Bohemia_Event.5
	title = ME_Bohemia_Event.5.T
	desc = ME_Bohemia_Event.5.D
	picture = TRADE_GOODS_METALS_AND_MINING_EQUIPENT_eventPicture
	major = yes
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.5.OPT1
		ai_chance = { factor = 0.9 }
		2966 = {
			if = {
				limit = {
					owned_by = ROOT 
				}			
				cede_province = FROM
				add_core = FROM
				add_local_autonomy = 50
			}
		}
		4238 = {
			if = {
				limit = {
					owned_by = ROOT 
				}			
				cede_province = FROM
				add_core = FROM
				add_local_autonomy = 50
			}
		}
	}
	option = {
		name = ME_Bohemia_Event.4.OPT2
		ai_chance = { factor = 0.1 }
		add_liberty_desire = 20
		add_mil_power = 100
	}
}

#Iron of Silesia#
country_event = {
	id = ME_Bohemia_Event.6
	title = ME_Bohemia_Event.6.T
	desc = ME_Bohemia_Event.6.D
	picture = TRADE_GOODS_METALS_AND_MINING_EQUIPENT_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.6.OPT1
		4723 = {
			change_trade_goods = iron
		}
		custom_tooltip = boh_coal_tt
		4723 = {
			add_province_modifier = {
				name = boh_iron_mining_expeditions
				duration = -1
			}
		}
		set_country_flag = boh_picked_coal
	}
	option = {
		name = ME_Bohemia_Event.5.OPT2
		add_mil_power = 75
		add_adm_power = 75
		add_dip_power = 75
	}
}

#Night of Tears#
country_event = {
	id = ME_Bohemia_Event.7
	title = ME_Bohemia_Event.7.T
	desc = ME_Bohemia_Event.7.D
	picture = BORDER_TENSION_eventPicture
	is_triggered_only = yes
	major = yes
	option = {
		name = ME_Bohemia_Event.7.OPT1
		4712 = {
			add_devastation = 25
			add_permanent_province_modifier = {
				name = boh_chastize_Konstanz
				duration = -1
			}
			add_core = ROOT
			change_religion = hussite
		}
		custom_tooltip = boh_sack_konstanz_tt
		hidden_effect = {
			every_country = {
				limit = {
					religion = catholic
				}
				add_opinion = {
					who = BOH
					modifier = boh_sack_konstanz
				}
			}
		}
	}
	option = {
		name = ME_Bohemia_Event.7.OPT2
		4712 = {
			add_devastation = 15
			add_base_tax = -2
		}
	}
}

#The Vatican Ablaze#
country_event = {
	id = ME_Bohemia_Event.8
	title = ME_Bohemia_Event.8.T
	desc = ME_Bohemia_Event.8.D
	picture = PRINCE_BISHOP_RESIGN_eventPicture
	is_triggered_only = yes
	major = yes
	option = {
		name = ME_Bohemia_Event.8.OPT1
		118 = {
			add_devastation = 15
			add_base_tax = -2
			add_base_production  = -2
			add_permanent_province_modifier = {
				name = boh_chastize_roma
				duration = -1
			}
		}
		custom_tooltip = boh_rome_sack_tt
		hidden_effect = {
			every_country = {
				limit = {
					religion = catholic
				}
				add_country_modifier = {
					name = boh_roma_sacked
					duration = -1
				}
			}
		}
		add_prestige = 25
		add_mil_power = 75
		add_adm_power = 75
		add_dip_power = 75
		add_treasury = 200
	}
}

#A United Front#
country_event = {
	id = ME_Bohemia_Event.9
	title = ME_Bohemia_Event.9.T
	desc = ME_Bohemia_Event.9.D
	picture = DIPLOMACY_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.9.OPT1
		add_country_modifier = {
			name = boh_diplomatic_maneuvers
			duration = 7300
		}
		custom_tooltip = boh_diplomats_courts_tt
		hidden_effect = {
			if = {
				limit = {
					exists = SAX
				}
				country_event = { id = ME_Bohemia_Event.10 }
			}
			if = {
				limit = {
					exists = PAP
				}
				country_event = { id = ME_Bohemia_Event.10 }
			}
			if = {
				limit = {
					exists = BRA
				}
				country_event = { id = ME_Bohemia_Event.10 }
			}
			if = {
				limit = {
					exists = PAL
				}
				country_event = { id = ME_Bohemia_Event.10 }
			}
			if = {
				limit = {
					exists = HAB
				}
				country_event = { id = ME_Bohemia_Event.10 }
			}
			if = {
				limit = {
					exists = FRA
				}
				country_event = { id = ME_Bohemia_Event.10 }
			}
		}
	}
}

#A Hope for Salvation#
country_event = {
	id = ME_Bohemia_Event.10
	title = ME_Bohemia_Event.10.T
	desc = ME_Bohemia_Event.10.D
	picture = DEBATE_REPUBLICAN_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.10.OPT1
		ai_chance = {
			factor = 75
			modifier = {
				factor = 100
				alliance_with = FROM
			}
			modifier = {
				factor = 90
				ai_attitude = {
					who = FROM
					attitude = attitude_hostile
				}
			}
		}	
		custom_tooltip = boh_accept_offer_tt
		add_opinion = {
			who = FROM
			modifier = boh_accepted_offer
		}
		set_country_flag = boh_accepted_union
	}
	option = {
		name = ME_Bohemia_Event.10.OPT2
		ai_chance = {
			factor = 25
			modifier = {
				factor = 100
				is_rival = FROM
			}
			modifier = {
				factor = 75
				ai_attitude = {
					who = FROM
					attitude = attitude_hostile
				}
			}
		}
		add_opinion = {
			who = FROM
			modifier = boh_declined_offer
		}
	}
}

#The Bohemian Envoy#
country_event = {
	id = ME_Bohemia_Event.11
	title = ME_Bohemia_Event.11.T
	desc = ME_Bohemia_Event.11.D
	picture = BATTLE_eventPicture
	mean_time_to_happen = {
		months = 2
	}
	trigger = {
		exists = BOH
        BOH = {
                OR = {
                        defensive_war_with = TUR
                        offensive_war_with = TUR
                }
        }
        has_country_flag = boh_accepted_offer
        NOT = { has_country_flag = boh_envoy_event_fired }
	}
	immediate = {
		clr_country_flag = boh_accepted_offer
	}
	option = {
		name = ME_Bohemia_Event.11.OPT1
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				NOT = { manpower_percentage = 0.5 }
			}
		}
		add_yearly_manpower = -0.5
		BOH = {
			country_event = { id = ME_Bohemia_Event.12 }
		}
		set_country_flag = boh_envoy_event_fired
	}
	option = {
		name = ME_Bohemia_Event.11.OPT2
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				num_of_loans = 1
			}
		}
		add_years_of_income = -0.5
		BOH = {
			country_event = { id = ME_Bohemia_Event.13 }
		}
		set_country_flag = boh_envoy_event_fired
	}
}

#Czech Mate#
country_event = {
	id = ME_Bohemia_Event.12
	title = ME_Bohemia_Event.12.T
	desc = ME_Bohemia_Event.12.D
	picture = ADVISOR_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.12.OPT1
		add_yearly_manpower = 0.5
	}
}

#Czech Mate#
country_event = {
	id = ME_Bohemia_Event.13
	title = ME_Bohemia_Event.13.T
	desc = ME_Bohemia_Event.13.D
	picture = ADVISOR_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.13.OPT1
		add_years_of_income = 0.5
	}
}

#A Matter of Religion#
country_event = {
	id = ME_Bohemia_Event.14
	title = ME_Bohemia_Event.14.T
	desc = ME_Bohemia_Event.14.D
	picture = ORTHODOX_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.14.OPT1
		change_religion = orthodox
		custom_tooltip = boh_change_religion_tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { religion = orthodox }
				}
				add_province_modifier = {
					name = boh_slavic_religion
					duration = -1
				}
			}
		}
	}
	option = {
		name = ME_Bohemia_Event.14.OPT2
		add_country_modifier = {
			name = boh_true_to_roots
			duration = -1
		}
	}
}
#The Timber of the Canal#
country_event = {
	id = ME_Bohemia_Event.15
	title = ME_Bohemia_Event.15.T
	desc = ME_Bohemia_Event.15.D
	picture = CITY_DEVELOPMENT_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.15.OPT1
		trigger = { 
			is_expanded_mod_active = {
				mod = trade_goods 
			}
		}
		2968 = {
			change_trade_goods = timber
		}
	}
	option = {
		name = ME_Bohemia_Event.15.OPT2
		trigger = { 
			NOT = { 
				is_expanded_mod_active = {
					mod = trade_goods
				}
			}
		}
		2968 = {
			change_trade_goods = tropical_wood
		}
	}
	option = {
		name = ME_Bohemia_Event.15.OPT3
		ROOT = {
			add_prestige = 10
		}
	}
}

#The Second Treaty of Leipzig
country_event = {
	id = ME_Bohemia_Event.16
	title = ME_Bohemia_Event.16.T
	desc = ME_Bohemia_Event.16.D
	picture = DIPLOMACY_eventPicture
	major = yes
	is_triggered_only = yes
	option = {
		name = ME_Bohemia_Event.16.OPT1
		ai_chance = {
			factor = 100
		}
		SAX = {
			inherit = THU
		}
	}
	option = {
		name = ME_Bohemia_Event.16.OPT2

	}
}

#Hidden event to remove HRE modifiers
country_event = {
	id = ME_Bohemia_Event.17
	title = ME_Bohemia_Event.17.T
	desc = ME_Bohemia_Event.17.D
	picture = DIPLOMACY_eventPicture
	hidden = yes
	trigger = {
		OR = {
			is_emperor = no
			NOT = {
				118 = {
					is_part_of_hre = yes
					owner = {
						is_part_of_hre = yes
					}
				}
			}
		}
	}
	option = {
		name = ME_Bohemia_Event.17.OPT1
		remove_country_modifier = boh_united_holy_see
		remove_country_modifier = boh_closer_reality
		remove_country_modifier = boh_closer_reality2
		remove_country_modifier = boh_beiou_modifier
	}
}

#Hidden event that will give Coal
country_event = {
	id = ME_Bohemia_Event.18
	title = ME_Bohemia_Event.18.T
	desc = ME_Bohemia_Event.18.D
	picture = DIPLOMACY_eventPicture
	hidden = yes
	trigger = {
		has_country_flag = boh_picked_coal
		has_institution = enlightenment
	}
	option = {
		name = ME_Bohemia_Event.18.OPT1
		4723 = {
			change_trade_goods = coal
		}
	}
}