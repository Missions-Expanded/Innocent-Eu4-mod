namespace = ME_Ottoman_Events

country_event = { #Principality of Transylvania
	id = ME_Ottoman_Events.1
	title = ME_Ottoman_Events.1.t
	desc = ME_Ottoman_Events.1.d
	picture = PAINTER_ARTIST_eventPicture
	fire_only_once = yes
	is_triggered_only = yes
	option = { #Create Transylvania
		name = ME_Ottoman_Events.1.OPT1
		ai_chance  = { factor = 70 }
		if = {
			limit = {
				is_expanded_mod_active = {
					mod = subjects
				}
			}
			create_vassal = TRA
			TRA = {
				change_subject_type = {
					subject_type = muslim_tributary_vassal
				}
			}
		}
		else = {
			create_vassal = TRA
		}
		alfold_area = {
			cede_province = TRA
			add_core = TRA
		}
		transylvania_area = {
			cede_province = TRA
			add_core = TRA
		}
		southern_transylvania_area = {
			cede_province = TRA
			add_core = TRA
		}
		TRA = {
			slovakia_area = {
				limit = {
					NOT = { owned_by = TRA }
					NOT = { is_core = TRA }
				}
				add_permanent_claim = TRA
			}
			transdanubia_area = {
				limit = {
					NOT = { owned_by = TRA }
					NOT = { is_core = TRA }
				}
				add_permanent_claim = TRA
			}
			slavonia_area = {
				limit = {
					NOT = { owned_by = TRA }
					NOT = { is_core = TRA }
				}
				add_permanent_claim = TRA
			}
		}
		TRA = {
			add_country_modifier = {
				name = ME_Ottomans_March
				duration = -1
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.1.OPT2
		ai_chance = { factor = 30 }
		alfold_area = {
			add_province_modifier = {
				name = ME_Ottoman_Ownership
				duration = 18250
			}
		}
		transylvania_area = {
			add_province_modifier = {
				name = ME_Ottoman_Ownership
				duration = 18250
			}
		}
		southern_transylvania_area = {
			add_province_modifier = {
				name = ME_Ottoman_Ownership
				duration = 18250
			}
		}
	}
}
country_event = { #Hidden event for tree change
	id = ME_Ottoman_Events.2
	title = ME_Ottoman_Events.2.t
	desc = ME_Ottoman_Events.2.d
	picture = PAINTER_ARTIST_eventPicture
	hidden = yes
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.2.OPT1
		swap_non_generic_missions = yes
	}
}
country_event = { #Roman Pretenders
	id = ME_Ottoman_Events.3
	title = ME_Ottoman_Events.3.t
	desc = ME_Ottoman_Events.3.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.3.OPT1
		set_country_flag = ME_TUR_Roman_Facade_Start
		add_casus_belli = {
			type = ME_Ottomans_Roman_Facade_CB
			target = emperor
		}
		custom_tooltip = ME_Ottomans_HRE_War_TT
		custom_tooltip = ME_Ottomans_Ramazan_Release_TT
		hidden_effect = {
			create_vassal = RAM
			RAM = { 
				country_event = {
					id = ME_Ottoman_Events.2
				}
				set_country_flag = ME_TUR_Change_Tree
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.3.OPT2
		add_prestige = -10
	}
}
country_event = { #Hidden event
	id = ME_Ottoman_Events.4
	title = ME_Ottoman_Events.4.t
	desc = ME_Ottoman_Events.4.d
	picture = PAINTER_ARTIST_eventPicture
	hidden = yes
	fire_only_once = yes
	trigger = {
		tag = TUR
	}
	option = {
		name = ME_Ottoman_Events.4.OPT1
		set_country_flag = lapse_of_devshirme
	}
}
country_event = { #The Fate of the Janissaries
	id = ME_Ottoman_Events.5
	title = ME_Ottoman_Events.5.t
	desc = ME_Ottoman_Events.5.d
	picture = PAINTER_ARTIST_eventPicture
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.5.OPT1
		set_country_flag = ME_TUR_westernization_chosen
		set_country_flag = had_janissary_decadence
		custom_tooltip = ME_TUR_Askeri_Estate_Deactivate_tt
		custom_tooltip = ME_TUR_Bektashi_Order_Deactivate_tt
		custom_tooltip = ME_TUR_Jannisary_Disaster_tt
	}
	option = {
		name = ME_Ottoman_Events.5.OPT2
		add_country_modifier = {
			name = ME_TUR_Tribute_Janissaries
			duration = -1
		}
		add_estate_loyalty_modifier = {
			estate = ME_TUR_Askeri_Estate
			desc = ME_TUR_Janissary_Loyalty
			loyalty = 10
			duration = -1
		}
	}
}
country_event = { #Gun of Orban
	id = ME_Ottoman_Events.6
	title = ME_Ottoman_Events.6.t
	desc = ME_Ottoman_Events.6.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.6.OPT1
		add_years_of_income = -0.5
		capital_scope = { large_cast_bronze_mortar = ROOT }
		add_country_modifier = {
			name = ME_TUR_Gun_Orban
			duration = 1825
		}
	}
	option = {
		name = ME_Ottoman_Events.6.OPT2
		if = {
			limit = {
				is_expanded_mod_active = {
					mod = advisor_types
				}
			}
			add_years_of_income = -0.2
			define_advisor = {
				type = ate_advisor_siege_expert
				name = "Orban"
				skill = 2
				culture = hungarian
				religion = catholic
				discount = yes
			}
		}
		else = {
			add_years_of_income = -0.2
			define_advisor = {
				type = fortification_expert
				name = "Orban"
				skill = 2
				culture = hungarian
				religion = catholic
				discount = yes
			}
		}
	}
}
country_event = { #Retirement Short Lived?
	id = ME_Ottoman_Events.7
	title = ME_Ottoman_Events.7.t
	desc = ME_Ottoman_Events.7.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.7.OPT1
		define_general = {
			fire = 5
			shock = 4
			manuever = 2
			siege = 2
			name = "Murad II"
		}
	}
	option = {
		name = ME_Ottoman_Events.7.OPT2
		kill_ruler = yes
		add_stability = 1
		kill_heir = {}
		define_ruler = {
			name = "Murad II"
			dynasty = "Osmanoglu"
			adm = 5
			dip = 5
			mil = 6
			max_random_adm = 5
			max_random_dip = 5
			max_random_mil = 6
			culture = ROOT
			religion = ROOT
			male = yes
			age = 40
		}
		define_heir = {
			name = "Mehmet II"
			dynasty = "Osmanoglu"
			adm = 6
			dip = 4
			mil = 6
			max_random_adm = 6
			max_random_dip = 4
			max_random_mil = 6
			culture = ROOT
			religion = ROOT
			male = yes
			age = 12
		}
	}
}
country_event = { #Dominant Religion
	id = ME_Ottoman_Events.8
	title = ME_Ottoman_Events.8.t
	desc = ME_Ottoman_Events.8.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.8.OPT1
		bosnia_area = {
			add_province_modifier = {
				name = ME_TUR_Permanent_Religion
				duration = -1
			}
		}
		every_subject_country = {
			limit = { religion = orthodox }
			add_liberty_desire = -10
		}
		every_owned_province = {
			limit = { religion = orthodox }
			add_province_modifier = {
				name = ME_TUR_Pleased_Orthodox
				duration = 9125
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.8.OPT2
		bosnia_area = {
			add_province_modifier = {
				name = ME_TUR_Permanent_Religion
				duration = -1
			}
			change_religion = catholic
		}
		every_owned_province = {
			limit = { religion = catholic }
			add_province_modifier = {
				name = ME_TUR_Pleased_Catholic
				duration = 9125
			}
		}
		add_estate_loyalty = {
			estate = estate_dhimmi
			loyalty = 10
		}
	}
	option = {
		name = ME_Ottoman_Events.8.OPT3
		bosnia_area = {
			change_religion = sunni
			change_culture = TUR
			add_province_modifier = {
				name = ME_TUR_Permanent_Religion
				duration = -1
			}
		}
	}
}
country_event = { #Joining HRE War
	id = ME_Ottoman_Events.9
	title = ME_Ottoman_Events.9.t
	desc = ME_Ottoman_Events.9.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.9.OPT1
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_at_war = yes
			}
			modifier = {
				factor = 0.75
				THIS = { is_rival = emperor }
			}
			modifier = {
				factor = 0
				alliance_with = TUR
			}
		}
		join_all_defensive_wars_of = emperor
	}
	option = {
		name = ME_Ottoman_Events.9.OPT2
		add_prestige = -10
	}
}
country_event = { #hidden event
	id = ME_Ottoman_Events.10
	title = ME_Ottoman_Events.10.t
	desc = ME_Ottoman_Events.10.d
	picture = PAINTER_ARTIST_eventPicture
	hidden = yes
	trigger = {
		is_in_war = {
			attacker_leader = ROOT
			casus_belli = ME_Ottomans_Roman_Facade_CB
		}
	}
	option = {
		name = ME_Ottoman_Events.10.OPT1
		if = {
			limit = { 
				exists = PLC
				PLC = {
					NOT = {
						is_in_war = {
							attacker_leader = ROOT
							casus_belli = ME_Ottomans_Roman_Facade_CB
						}
					}
				}
			}
			PLC = {
				country_event = {
					id = ME_Ottoman_Events.9
				}
			}
		}
		else_if = {
			limit = {
				NOT = { exists = PLC }
				exists = POL
				POL = {
					NOT = {
						is_in_war = {
							attacker_leader = ROOT
							casus_belli = ME_Ottomans_Roman_Facade_CB
						}
					}
				}
			}
			POL = {
				country_event = {
					id = ME_Ottoman_Events.9
				}
			}
		}
		if = {
			limit = { 
				exists = SPA
				SPA = {
					NOT = {
						is_in_war = {
							attacker_leader = ROOT
							casus_belli = ME_Ottomans_Roman_Facade_CB
						}
					}
				} 
			}
			SPA = {
				country_event = {
					id = ME_Ottoman_Events.9
				}
			}
		}
		else_if = {
			limit = { 
				NOT = { exists = SPA }
				exists = CAS
				CAS = {
					NOT = {
						is_in_war = {
							attacker_leader = ROOT
							casus_belli = ME_Ottomans_Roman_Facade_CB
						}
					}
				}
			}
			CAS = {
				country_event = {
					id = ME_Ottoman_Events.9
				}
			}
		}
		else_if = {
			limit = {
				NOT = { exists = SPA }
				NOT = { exists = CAS }
				exists = ARA
				ARA = {
					NOT = {
						is_in_war = {
							attacker_leader = ROOT
							casus_belli = ME_Ottomans_Roman_Facade_CB
						}
					}
				}
			}
			ARA = {
				country_event = {
					id = ME_Ottoman_Events.9
				}
			}
		}
		else_if = {
			limit = {
				NOT = { exists = SPA }
				NOT = { exists = CAS }
				NOT = { exists = ARA }
				exists = POR
				POR = {
					NOT = {
						is_in_war = {
							attacker_leader = ROOT
							casus_belli = ME_Ottomans_Roman_Facade_CB
						}
					}
				}
			}
			POR = {
				country_event = {
					id = ME_Ottoman_Events.9
				}
			}
		}
		every_country = {
			limit = { 
				is_elector = yes
				NOT = {
					is_in_war = {
						attacker_leader = ROOT
						casus_belli = ME_Ottomans_Roman_Facade_CB
					}
				}
			}
			country_event = {
				id = ME_Ottoman_Events.9
			}
		}
	}
}
country_event = { #Emirate of Sicily
	id = ME_Ottoman_Events.11
	title = ME_Ottoman_Events.11.t
	desc = ME_Ottoman_Events.11.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.11.OPT1
		if = {
			limit = {
				NOT = { exists = SIC }
			}
			release = SIC
		}
		if = {
			limit = {
				western_sicily_area = {
					NOT = { owned_by = SIC }
				}
			}
			western_sicily_area = {
				cede_province = SIC
				add_core = SIC
			}
		}
		else_if = {
			limit = {
				sicily_area = {
					NOT = { owned_by = SIC }
				}
			}
			sicily_area = {
				cede_province = SIC
				add_core = SIC
			}
		}
		125 = {
			change_province_name = "Balharm"
		}
		if = {
			limit = {
				125 = {
					NOT = { is_capital_of = SIC }
				}
			}
			SIC = {
				set_capital = 125
			}
		}
		if = {
			limit = {
				120 = {
					NOT = { is_core = SIC }
				}
			}
			120 = { add_core = SIC }
		}
		if = {
			limit = {
				naples_area = {
					NOT = { is_core = SIC }
				}
			}
			naples_area = { add_core = SIC }
		}
		western_sicily_area = {
			add_province_modifier = {
				name = ME_TUR_Restored_Siqilliya
				duration = -1
			}
			add_province_modifier = {
				name = ME_TUR_Restored_Siqilliya
				duration = -1
			}
		}
		sicily_area = {
			add_province_modifier = {
				name = ME_TUR_Futuh_Siqilliya
				duration = 10950
			}
			add_province_modifier = {
				name = ME_TUR_Futuh_Siqilliya
				duration = 10950
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.11.OPT2
		western_sicily_area = {
			add_province_modifier = {
				name = ME_TUR_Restored_Muslim_Rule
				duration = 18250
			}
		}
		sicily_area = {
			add_province_modifier = {
				name = ME_TUR_Restored_Muslim_Rule
				duration = 18250
			}
		}
		125 = {
			add_base_manpower = 2
			add_base_production = 2
			add_base_tax = 2
			change_religion = sunni
		}
		if = {
			limit = {
				120 = {
					NOT = { is_core = ROOT }
					NOT = { owned_by = ROOT }
				}
			}
			120 = { add_permanent_claim = ROOT }
		}
		naples_area = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { owned_by = ROOT }
			}
			add_permanent_claim = ROOT
		}
	}
}
country_event = { #A Return from Exile
	id = ME_Ottoman_Events.12
	title = ME_Ottoman_Events.12.t
	desc = ME_Ottoman_Events.12.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.12.OPT1
		custom_tooltip = ME_TUR_Iberia_future_tt
		hidden_effect = {
			if = {
				limit = {
					exists = ADU
				}
				ADU = {
					country_event = {
						id = ME_Ottoman_Events.13
					}
				}
			}
			else = {
				GRA = {
					country_event = {
						id = ME_Ottoman_Events.13
					}
				}
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.12.OPT2
		add_prestige = 20
		add_splendor = 200
	}
}
country_event = { #To Avert a Disaster
	id = ME_Ottoman_Events.13
	title = ME_Ottoman_Events.13.t
	desc = ME_Ottoman_Events.13.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	major = yes
	option = {
		name = ME_Ottoman_Events.13.OPT1
		ai_chance = {
			factor = 0.9
			modifier = {
				factor = 1
				is_subject_of = ROOT
			}
		}
		FROM = { vassalize = PREV }
		FROM = {
			country_event = {
				id = ME_Ottoman_Events.14
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.13.OPT2
		FROM = {
			country_event = {
				id = ME_Ottoman_Events.16
			}
		}
	}
}
country_event = { #The Andalusian Reply
	id = ME_Ottoman_Events.14
	title = ME_Ottoman_Events.14.t
	desc = ME_Ottoman_Events.14.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.14.OPT1
		add_country_modifier = {
			name = ME_TUR_Beacon_Knowledge
			duration = -1
		}
	}
}
country_event = { #Hidden event
	id = ME_Ottoman_Events.15
	title = ME_Ottoman_Events.15.t
	desc = ME_Ottoman_Events.15.d
	picture = PAINTER_ARTIST_eventPicture
	hidden = yes
	trigger = {
		OR = {
			NOT = { 
				GRA = { is_subject_of = ROOT }
			}
			NOT = { 
				ADU = { is_subject_of = ROOT }
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.15.OPT1
		remove_country_modifier = ME_TUR_Beacon_Knowledge
	}
}
country_event = { #The Andalusian Response
	id = ME_Ottoman_Events.16
	title = ME_Ottoman_Events.16.t
	desc = ME_Ottoman_Events.16.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.16.OPT1
		change_adm = 1
		change_dip = 1
		change_mil = 1
	}
}
country_event = { #The Millet System
	id = ME_Ottoman_Events.17
	title = ME_Ottoman_Events.17.t
	desc = ME_Ottoman_Events.17.d
	picture = PAINTER_ARTIST_eventPicture
	trigger = {
		has_country_flag = TUR_Millet_start
		NOT = {
			OR = {
				has_country_modifier = ME_TUR_millet_supported_catholic
				has_country_modifier = ME_TUR_millet_supported_coptic
				has_country_modifier = ME_TUR_millet_supported_orthodox
				has_country_modifier = ME_TUR_millet_denied
			}
		}
	}
	mean_time_to_happen = { months = 5 }
	option = {
		name = ME_Ottoman_Events.17.OPT1
		trigger = {
			num_of_owned_provinces_with = {
				religion = orthodox
				value = 5
			}
		}
		add_adm_power = -100
		add_dip_power = -100
		add_mil_power = -100
		every_owned_province = {
			limit = { religion = orthodox }
			add_province_modifier = {
				name = ME_TUR_millet_supported_orthodox
				duration = 36000
			}
		}
		every_owned_province = {
			limit = { 
				religion = catholic
				religion = coptic
			}
			add_province_modifier = {
				name = ME_TUR_denied_support
				duration = 36000
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.17.OPT2
		trigger = {
			num_of_owned_provinces_with = {
				religion = coptic
				value = 5
			}
		}
		add_adm_power = -100
		add_dip_power = -100
		add_mil_power = -100
		every_owned_province = {
			limit = { religion = coptic }
			add_province_modifier = {
				name = ME_TUR_millet_supported_coptic
				duration = 36000
			}
		}
		every_owned_province = {
			limit = { 
				religion = catholic
				religion = orthodox
			}
			add_province_modifier = {
				name = ME_TUR_denied_support
				duration = 36000
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.17.OPT3
		trigger = {
			num_of_owned_provinces_with = {
				religion = catholic
				value = 5
			}
		}
		add_adm_power = -100
		add_dip_power = -100
		add_mil_power = -100
		every_owned_province = {
			limit = { religion = catholic }
			add_province_modifier = {
				name = ME_TUR_millet_supported_catholic
				duration = 36000
			}
		}
		every_owned_province = {
			limit = { 
				religion = orthodox
				religion = coptic
			}
			add_province_modifier = {
				name = ME_TUR_denied_support
				duration = 36000
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.17.OPT4
		add_country_modifier = {
			name = ME_TUR_millet_denied
			duration = 36000
		}
	}
}
country_event = { #A New Mazhab
	id = ME_Ottoman_Events.18
	title = ME_Ottoman_Events.18.t
	desc = ME_Ottoman_Events.18.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.18.OPT1
		trigger = {
			if = {
				limit = {
					religion = sunni
				}
				always = yes
			}
			else_if = {
				limit = {
					religion = shiite
				}
				piety = -50
			}
		}
		set_religious_school = {
			group = muslim
			school = hanafi_school
		}
	}
	option = {
		name = ME_Ottoman_Events.18.OPT2
		trigger = {
			if = {
				limit = {
					religion = sunni
				}
				always = yes
			}
			else_if = {
				limit = {
					religion = shiite
				}
				piety = -50
			}
		}
		set_religious_school = {
			group = muslim
			school = hanbali_school
		}
	}
	option = {
		name = ME_Ottoman_Events.18.OPT3
		trigger = {
			if = {
				limit = {
					religion = sunni
				}
				always = yes
			}
			else_if = {
				limit = {
					religion = shiite
				}
				piety = -50
			}
		}
		set_religious_school = {
			group = muslim
			school = maliki_school
		}
	}
	option = {
		name = ME_Ottoman_Events.18.OPT4
		trigger = {
			if = {
				limit = {
					religion = sunni
				}
				always = yes
			}
			else_if = {
				limit = {
					religion = shiite
				}
				piety = -50
			}
		}
		set_religious_school = {
			group = muslim
			school = shafii_school
		}
	}
	option = {
		name = ME_Ottoman_Events.18.OPT5
		trigger = {
			if = {
				limit = {
					religion = sunni
				}
				piety = -50
			}
			else_if = {
				limit = {
					religion = shiite
				}
				always = yes
			}
		}
		set_religious_school = {
			group = muslim
			school = ismaili_school
		}
	}
	option = {
		name = ME_Ottoman_Events.18.OPT6
		trigger = {
			if = {
				limit = {
					religion = sunni
				}
				piety = -50
			}
			else_if = {
				limit = {
					religion = shiite
				}
				always = yes
			}
		}
		set_religious_school = {
			group = muslim
			school = jafari_school
		}
	}
	option = {
		name = ME_Ottoman_Events.18.OPT7
		trigger = {
			if = {
				limit = {
					religion = sunni
				}
				piety = -50
			}
			else_if = {
				limit = {
					religion = shiite
				}
				always = yes
			}
		}
		set_religious_school = {
			group = muslim
			school = zaidi_school
		}
	}
}
country_event = { #Ottoman Canon Law
	id = ME_Ottoman_Events.19
	title = ME_Ottoman_Events.19.t
	desc = ME_Ottoman_Events.19.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.19.OPT1
		add_country_modifier = {
			name = ME_TUR_legalist_approach
			duration = -1
		}
		custom_tooltip = ME_TUR_ottoman_islam_decision
		set_country_flag = ME_TUR_ottoman_islam
	}
	option = {
		name = ME_Ottoman_Events.19.OPT1
		add_country_modifier = {
			name = ME_TUR_mystical_approach
			duration = -1
		}
		custom_tooltip = ME_TUR_ottoman_islam_decision
		set_country_flag = ME_TUR_ottoman_islam
	}
}
country_event = { #Civic Duties
	id = ME_Ottoman_Events.20
	title = ME_Ottoman_Events.20.t
	desc = ME_Ottoman_Events.20.d
	picture = PAINTER_ARTIST_eventPicture
	trigger = {
		had_country_flag = {
			flag = ME_TUR_civic_duties_start
			days = 730
		}
	}
	mean_time_to_happen = {
		months = 3
	}
	immediate = {
		clr_country_flag = ME_TUR_civic_duties_start
		set_country_flag = ME_TUR_civic_duties_start
	}
	option = {
		name = ME_Ottoman_Events.20.OPT1
		add_yearly_manpower = -1
		random_owned_province = {
			limit = {
				religion_group = christian
			}
			add_base_manpower = 1
			add_base_production = 1
			add_base_tax = 1
		}
	}
	option = {
		name = ME_Ottoman_Events.20.OPT2
	}
}
country_event = { #Mantle of Rome
	id = ME_Ottoman_Events.21
	title = ME_Ottoman_Events.21.t
	desc = ME_Ottoman_Events.21.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.21.OPT1
		set_country_flag = ME_TUR_Mantle_Rome_Start
		118 = {
			add_core = ROOT
			owner = {
				reverse_add_casus_belli = {
					type = ME_TUR_Mantle_Rome_CB
					target = ROOT
				}
			}
		}
		custom_tooltip = ME_Ottomans_Roma_War_TT
		custom_tooltip = ME_Ottomans_Candar_Release_TT
		hidden_effect = {
			create_vassal = CND
			CND = {
				country_event = {
					id = ME_Ottoman_Events.2
				}
				set_country_flag = ME_TUR_Change_Tree
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.21.OPT2
		add_prestige = -10
	}
}
country_event = { #Second Caput Mundi
	id = ME_Ottoman_Events.22
	title = ME_Ottoman_Events.22.t
	desc = ME_Ottoman_Events.22.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.22.OPT1
		118 = {
			add_devastation = 10
			add_province_modifier = {
				name = ME_TUR_sack_roma
				duration = 18250
			}
		}
		151 = {
			add_base_manpower = 2
			add_base_production = 2
			add_base_tax = 2
			add_province_modifier = {
				name = ME_TUR_sole_roman_capital
				duration = 18250
			}
		}
		add_years_of_income = 0.25
		add_adm_power = 100
		add_dip_power = 100
		add_mil_power = 100
		add_country_modifier = {
			name = ME_TUR_desecrated_holy_grounds
			duration = -1
		}
	}
	option = {
		name = ME_Ottoman_Events.22.OPT2
		118 = {
			add_devastation = 5
			add_province_modifier = {
				name = ME_TUR_tolerant_authority
				duration = -1
			}
		}
		custom_tooltip = ME_TUR_remove_scourge_tt
		hidden_effect = {
			every_country = {
				limit = { religion = catholic }
				remove_opinion = {
					who = ROOT
					modifier = ME_TUR_Scourge_Europe
				}
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.22.OPT2
		add_prestige = 10
	}
}
country_event = { #Sharpening the Edge
	id = ME_Ottoman_Events.23
	title = ME_Ottoman_Events.23.t
	desc = ME_Ottoman_Events.23.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.22.OPT1
		create_vassal = ALG
		ALG = { 
			change_government = republic
			add_government_reform = pirate_republic_reform
		}
		barbary_coast_area = {
			cede_province = ALG
			add_core = ALG
		}
		hautes_plaines_area = {
			cede_province = ALG
			add_core = ALG
		}
		algiers_area = {
			cede_province = ALG
			add_core = ALG
		}
		define_admiral = {
			shock = 6
			fire = 5
			manuever = 3
			name = "Hayreddin Barbarossa"
		}
		ALG = {
			add_country_modifier = {
				name = ME_TUR_ottoman_funding
				duration = -1
			}
		}
		add_country_modifier = {
			name = ME_TUR_pirates_meditteranean
			duration = 3650
		}
	}
	option = {
		name = ME_Ottoman_Events.22.OPT2
		barbary_coast_area = {
			add_province_modifier = {
				name = ME_TUR_civilized_populace
				duration = -1
			}
		}
		algiers_area = {
			add_province_modifier = {
				name = ME_TUR_civilized_populace
				duration = -1
			}
		}
		hautes_plaines_area = {
			add_province_modifier = {
				name = ME_TUR_civilized_populace
				duration = -1
			}
		}
	}
}
country_event = { #Moorish Ambitions
	id = ME_Ottoman_Events.24
	title = ME_Ottoman_Events.24.t
	desc = ME_Ottoman_Events.24.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.24.OPT1
		custom_tooltip = ME_TUR_protect_Moors_tt
		if = {
			limit = { exists = ADU }
			create_alliance = ADU
			ADU = {
				country_event = {
					id = ME_Ottoman_Events.25
				}
			}
		}
		if = {
			limit = { exists = GRA }
			create_alliance = GRA
			GRA = {
				country_event = {
					id = ME_Ottoman_Events.25
				}
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.24.OPT2
		upper_andalucia_area = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { owned_by = ROOT }
			}
			add_permanent_claim = ROOT
		}
		lower_andalucia_area = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { owned_by = ROOT }
			}
			add_permanent_claim = ROOT
		}
	}
}
country_event = { #A Promising Act
	id = ME_Ottoman_Events.25
	title = ME_Ottoman_Events.25.t
	desc = ME_Ottoman_Events.25.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.25.OPT1
		add_favors = {
			who = FROM
			amount = 5
		}
		upper_andalucia_area = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { owned_by = ROOT }
				NOT = { is_empty = yes }
       	 		NOT = { is_wasteland = yes }
			}
			add_permanent_claim = ROOT
		}
		lower_andalucia_area = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { owned_by = ROOT }
				NOT = { is_empty = yes }
       	 		NOT = { is_wasteland = yes }
			}
			add_permanent_claim = ROOT
		}
	}
}
country_event = { #A Pirate's Booty
	id = ME_Ottoman_Events.26
	title = ME_Ottoman_Events.26.t
	desc = ME_Ottoman_Events.26.d
	picture = PAINTER_ARTIST_eventPicture
	is_triggered_only = yes
	option = {
		name = ME_Ottoman_Events.26.OPT1
		341 = { 
			change_trade_goods = slaves
			add_center_of_trade_level = 1
			add_province_modifier = {
				name = ME_TUR_major_slave_market
				duration = -1
			}
		}
		336 = { 
			change_trade_goods = slaves
			add_center_of_trade_level = 1
			add_province_modifier = {
				name = ME_TUR_major_slave_market
				duration = -1
			} 
		}
		334 = { 
			change_trade_goods = slaves
			add_center_of_trade_level = 1
			add_province_modifier = {
				name = ME_TUR_major_slave_market
				duration = -1
			}
		}
		every_owned_province = {
			limit = {
				region = maghreb_region
				has_port = yes
			}
			add_province_modifier = {
				name = ME_TUR_pirates_haven
				duration = -1
			}
		}
	}
	option = {
		add_country_modifier = {
			name = ME_TUR_barbary_fleet
			duration = -1
		}
	}
}
country_event = { #Iltizam
	id = ME_Ottoman_Events.27
	title = ME_Ottoman_Events.27.t
	desc = ME_Ottoman_Events.27.d
	picture = PAINTER_ARTIST_eventPicture
	trigger = {
		NOT = {
			AND = {
				is_month = 1 
				has_country_modifier = ME_TUR_auction_taxing_right
				has_country_modifier = ME_TUR_state_funded_taxation	
			}
		}
		had_country_flag = {
			flag = ME_TUR_iltizam
			days = 1095
		}
	}
	immediate = {
		clr_country_flag = ME_TUR_iltizam
		set_country_flag = ME_TUR_iltizam
	}
	option = {
		name = ME_Ottoman_Events.27.OPT1
		custom_tooltip = ME_TUR_tax_income
		hidden_effect = {
			export_to_variable = {
    			which = our_tax_income
    			value = monthly_income
			}
			export_to_variable = {
    			which = our_tax_income_percent
    			value = trigger_value:tax_income_percentage
			}
			multiply_variable = { 
				which = our_tax_income 
				which = our_tax_income_percent 
			}
			set_variable = { 
				which = our_tax_income_percent 
				value = 0 
			}
			multiply_variable = {
				which = our_tax_income 
				value = 10
			}
			while = {
    			limit = {
        			check_variable = { 
						which = our_tax_income 
						value = 1 
					}
    			}
    			change_variable = { 
					which = our_tax_income 
					value = -1 
				}
    			add_treasury = 1
			}
		}
		add_country_modifier = {
			name = ME_TUR_auction_taxing_right
			duration = 1095
		}
	}
	option = {
		name = ME_Ottoman_Events.27.OPT2
		add_adm_power = 50
		add_country_modifier = {
			name = ME_TUR_state_funded_taxation	
			duration = 1095
		}
	}
}
country_event = { #Renovating the Capital
	id = ME_Ottoman_Events.28
	title = ME_Ottoman_Events.28.t
	desc = ME_Ottoman_Events.28.d
	picture = PAINTER_ARTIST_eventPicture
	trigger = {
		had_country_flag = {
			flag = ME_TUR_renovating_capital_start
			days = 730
		}
	}
	option = {
		name = ME_Ottoman_Events.28.OPT1
		151 = { add_base_production = 1 }
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag = ME_TUR_taken_pop }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
	}
	option = {
		name = ME_Ottoman_Events.28.OPT2
		151 = { 
			add_province_modifier = {
				name = ME_TUR_extra_labor
				duration = 365
			} 
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag =  ME_TUR_taken_pop }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
	}
}
country_event = { #Renovating the Capital
	id = ME_Ottoman_Events.29
	title = ME_Ottoman_Events.29.t
	desc = ME_Ottoman_Events.29.d
	picture = PAINTER_ARTIST_eventPicture
	trigger = {
		had_country_flag = {
			flag = ME_TUR_renovating_capital_start
			days = 1460
		}
	}
	option = {
		name = ME_Ottoman_Events.29.OPT1
		151 = { add_base_production = 1 }
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag = ME_TUR_taken_pop }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
	}
	option = {
		name = ME_Ottoman_Events.29.OPT2
		151 = { 
			add_province_modifier = {
				name = ME_TUR_extra_labor
				duration = 365
			} 
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag =  ME_TUR_taken_pop }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
	}
}
country_event = { #Renovating the Capital
	id = ME_Ottoman_Events.30
	title = ME_Ottoman_Events.30.t
	desc = ME_Ottoman_Events.30.d
	picture = PAINTER_ARTIST_eventPicture
	trigger = {
		had_country_flag = {
			flag = ME_TUR_renovating_capital_start
			days = 2190
		}
	}
	option = {
		name = ME_Ottoman_Events.30.OPT1
		151 = { add_base_production = 1 }
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag = ME_TUR_taken_pop }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
	}
	option = {
		name = ME_Ottoman_Events.30.OPT2
		151 = { 
			add_province_modifier = {
				name = ME_TUR_extra_labor
				duration = 365
			} 
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag =  ME_TUR_taken_pop }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
	}
}
country_event = { #Renovating the Capital
	id = ME_Ottoman_Events.31
	title = ME_Ottoman_Events.31.t
	desc = ME_Ottoman_Events.31.d
	picture = PAINTER_ARTIST_eventPicture
	trigger = {
		had_country_flag = {
			flag = ME_TUR_renovating_capital_start
			days = 2920
		}
	}
	option = {
		name = ME_Ottoman_Events.31.OPT1
		151 = { add_base_production = 1 }
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag = ME_TUR_taken_pop }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
	}
	option = {
		name = ME_Ottoman_Events.31.OPT2
		151 = { 
			add_province_modifier = {
				name = ME_TUR_extra_labor
				duration = 365
			} 
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag =  ME_TUR_taken_pop }
			}
			add_base_tax = -2
			set_province_flag = ME_TUR_taken_pop
		}
	}
}
country_event = { #Renovating the Capital
	id = ME_Ottoman_Events.32
	title = ME_Ottoman_Events.32.t
	desc = ME_Ottoman_Events.32.d
	picture = PAINTER_ARTIST_eventPicture
	trigger = {
		had_country_flag = {
			flag = ME_TUR_renovating_capital_start
			days = 3650
		}
	}
	immediate = {
		clr_country_flag = ME_TUR_renovating_capital_start
	}
	option = {
		name = ME_Ottoman_Events.32.OPT1
		151 = { add_base_production = 1 }
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag = ME_TUR_taken_pop }
			}
			add_base_tax = -2
		}
		hidden_effect = {
			every_owned_province = {
				limit = { has_province_flag = ME_TUR_taken_pop }
				clr_province_flag = ME_TUR_taken_pop
			}
		}
	}
	option = {
		name = ME_Ottoman_Events.32.OPT2
		151 = { 
			add_province_modifier = {
				name = ME_TUR_extra_labor
				duration = 365
			} 
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
			}
			add_base_tax = -2
		}
		random_owned_province = {
			limit = {
				NOT = { local_autonomy = 89 }
				NOT = { has_province_flag =  ME_TUR_taken_pop }
			}
			add_base_tax = -2
		}
		hidden_effect = {
			every_owned_province = {
				limit = { has_province_flag = ME_TUR_taken_pop }
				clr_province_flag = ME_TUR_taken_pop
			}
		}
	}
}

